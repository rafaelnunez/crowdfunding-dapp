import{aU as Qv,d6 as Vv,c$ as is,dc as ko,dd as Mo,de as Kv,df as Zv,dg as Yv,cl as Uo,dh as Bo,di as Xv,dj as Xi,dk as tg,dl as Or,dm as eg,dn as Ir,dp as rg,dq as nu,dr as Qi,ds as Ie,dt as ng,du as ig,Q as sg}from"./index.7594c645.js";var ts={exports:{}};(function(b,s){var i=typeof self<"u"?self:Qv,f=function(){function P(){this.fetch=!1,this.DOMException=i.DOMException}return P.prototype=i,new P}();(function(P){(function(A){var M={searchParams:"URLSearchParams"in P,iterable:"Symbol"in P&&"iterator"in Symbol,blob:"FileReader"in P&&"Blob"in P&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in P,arrayBuffer:"ArrayBuffer"in P};function ot(v){return v&&DataView.prototype.isPrototypeOf(v)}if(M.arrayBuffer)var it=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],lt=ArrayBuffer.isView||function(v){return v&&it.indexOf(Object.prototype.toString.call(v))>-1};function nt(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function pt(v){return typeof v!="string"&&(v=String(v)),v}function ut(v){var E={next:function(){var $=v.shift();return{done:$===void 0,value:$}}};return M.iterable&&(E[Symbol.iterator]=function(){return E}),E}function G(v){this.map={},v instanceof G?v.forEach(function(E,$){this.append($,E)},this):Array.isArray(v)?v.forEach(function(E){this.append(E[0],E[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(E){this.append(E,v[E])},this)}G.prototype.append=function(v,E){v=nt(v),E=pt(E);var $=this.map[v];this.map[v]=$?$+", "+E:E},G.prototype.delete=function(v){delete this.map[nt(v)]},G.prototype.get=function(v){return v=nt(v),this.has(v)?this.map[v]:null},G.prototype.has=function(v){return this.map.hasOwnProperty(nt(v))},G.prototype.set=function(v,E){this.map[nt(v)]=pt(E)},G.prototype.forEach=function(v,E){for(var $ in this.map)this.map.hasOwnProperty($)&&v.call(E,this.map[$],$,this)},G.prototype.keys=function(){var v=[];return this.forEach(function(E,$){v.push($)}),ut(v)},G.prototype.values=function(){var v=[];return this.forEach(function(E){v.push(E)}),ut(v)},G.prototype.entries=function(){var v=[];return this.forEach(function(E,$){v.push([$,E])}),ut(v)},M.iterable&&(G.prototype[Symbol.iterator]=G.prototype.entries);function pe(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function _t(v){return new Promise(function(E,$){v.onload=function(){E(v.result)},v.onerror=function(){$(v.error)}})}function Xt(v){var E=new FileReader,$=_t(E);return E.readAsArrayBuffer(v),$}function jr(v){var E=new FileReader,$=_t(E);return E.readAsText(v),$}function Rt(v){for(var E=new Uint8Array(v),$=new Array(E.length),K=0;K<E.length;K++)$[K]=String.fromCharCode(E[K]);return $.join("")}function te(v){if(v.slice)return v.slice(0);var E=new Uint8Array(v.byteLength);return E.set(new Uint8Array(v)),E.buffer}function It(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:M.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:M.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:M.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():M.arrayBuffer&&M.blob&&ot(v)?(this._bodyArrayBuffer=te(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):M.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||lt(v))?this._bodyArrayBuffer=te(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):M.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},M.blob&&(this.blob=function(){var v=pe(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?pe(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Xt)}),this.text=function(){var v=pe(this);if(v)return v;if(this._bodyBlob)return jr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M.formData&&(this.formData=function(){return this.text().then(Xe)}),this.json=function(){return this.text().then(JSON.parse)},this}var de=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ft(v){var E=v.toUpperCase();return de.indexOf(E)>-1?E:v}function At(v,E){E=E||{};var $=E.body;if(v instanceof At){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,E.headers||(this.headers=new G(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!$&&v._bodyInit!=null&&($=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new G(E.headers)),this.method=Ft(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}At.prototype.clone=function(){return new At(this,{body:this._bodyInit})};function Xe(v){var E=new FormData;return v.trim().split("&").forEach(function($){if($){var K=$.split("="),J=K.shift().replace(/\+/g," "),F=K.join("=").replace(/\+/g," ");E.append(decodeURIComponent(J),decodeURIComponent(F))}}),E}function In(v){var E=new G,$=v.replace(/\r?\n[\t ]+/g," ");return $.split(/\r?\n/).forEach(function(K){var J=K.split(":"),F=J.shift().trim();if(F){var ee=J.join(":").trim();E.append(F,ee)}}),E}It.call(At.prototype);function $t(v,E){E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"OK",this.headers=new G(E.headers),this.url=E.url||"",this._initBody(v)}It.call($t.prototype),$t.prototype.clone=function(){return new $t(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new G(this.headers),url:this.url})},$t.error=function(){var v=new $t(null,{status:0,statusText:""});return v.type="error",v};var An=[301,302,303,307,308];$t.redirect=function(v,E){if(An.indexOf(E)===-1)throw new RangeError("Invalid status code");return new $t(null,{status:E,headers:{location:v}})},A.DOMException=P.DOMException;try{new A.DOMException}catch{A.DOMException=function(E,$){this.message=E,this.name=$;var K=Error(E);this.stack=K.stack},A.DOMException.prototype=Object.create(Error.prototype),A.DOMException.prototype.constructor=A.DOMException}function tr(v,E){return new Promise(function($,K){var J=new At(v,E);if(J.signal&&J.signal.aborted)return K(new A.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function ee(){F.abort()}F.onload=function(){var dt={status:F.status,statusText:F.statusText,headers:In(F.getAllResponseHeaders()||"")};dt.url="responseURL"in F?F.responseURL:dt.headers.get("X-Request-URL");var er="response"in F?F.response:F.responseText;$(new $t(er,dt))},F.onerror=function(){K(new TypeError("Network request failed"))},F.ontimeout=function(){K(new TypeError("Network request failed"))},F.onabort=function(){K(new A.DOMException("Aborted","AbortError"))},F.open(J.method,J.url,!0),J.credentials==="include"?F.withCredentials=!0:J.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&M.blob&&(F.responseType="blob"),J.headers.forEach(function(dt,er){F.setRequestHeader(er,dt)}),J.signal&&(J.signal.addEventListener("abort",ee),F.onreadystatechange=function(){F.readyState===4&&J.signal.removeEventListener("abort",ee)}),F.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return tr.polyfill=!0,P.fetch||(P.fetch=tr,P.Headers=G,P.Request=At,P.Response=$t),A.Headers=G,A.Request=At,A.Response=$t,A.fetch=tr,Object.defineProperty(A,"__esModule",{value:!0}),A})({})})(f),f.fetch.ponyfill=!0,delete f.fetch.polyfill;var g=f;s=g.fetch,s.default=g.fetch,s.fetch=g.fetch,s.Headers=g.Headers,s.Request=g.Request,s.Response=g.Response,b.exports=s})(ts,ts.exports);const Fo=Vv(ts.exports),ag={Accept:"application/json","Content-Type":"application/json"},og="POST",zo={headers:ag,method:og},Wo=10;class Ae{constructor(s,i=!1){if(this.url=s,this.disableProviderPing=i,this.events=new is.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!ko(s))throw new Error(`Provided URL is not compatible with HTTP connection: ${s}`);this.url=s,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(s,i){this.events.on(s,i)}once(s,i){this.events.once(s,i)}off(s,i){this.events.off(s,i)}removeListener(s,i){this.events.removeListener(s,i)}async open(s=this.url){await this.register(s)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(s,i){this.isAvailable||await this.register();try{const f=Mo(s),P=await(await Fo(this.url,Object.assign(Object.assign({},zo),{body:f}))).json();this.onPayload({data:P})}catch(f){this.onError(s.id,f)}}async register(s=this.url){if(!ko(s))throw new Error(`Provided URL is not compatible with HTTP connection: ${s}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((f,g)=>{this.events.once("register_error",P=>{this.resetMaxListeners(),g(P)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return g(new Error("HTTP connection is missing or invalid"));f()})})}this.url=s,this.registering=!0;try{if(!this.disableProviderPing){const i=Mo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Fo(s,Object.assign(Object.assign({},zo),{body:i}))}this.onOpen()}catch(i){const f=this.parseError(i);throw this.events.emit("register_error",f),this.onClose(),f}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(s){if(typeof s.data>"u")return;const i=typeof s.data=="string"?Kv(s.data):s.data;this.events.emit("payload",i)}onError(s,i){const f=this.parseError(i),g=f.message||f.toString(),P=Zv(s,g);this.events.emit("payload",P)}parseError(s,i=this.url){return Yv(s,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Wo&&this.events.setMaxListeners(Wo)}}const Go="error",ug="wss://relay.walletconnect.com",cg="wc",hg="universal_provider",Jo=`${cg}@2:${hg}:`,fg="https://rpc.walletconnect.com/v1/",le={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Uo<"u"?Uo:typeof self<"u"?self:{},es={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(b,s){(function(){var i,f="4.17.21",g=200,P="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",A="Expected a function",M="Invalid `variable` option passed into `_.template`",ot="__lodash_hash_undefined__",it=500,lt="__lodash_placeholder__",nt=1,pt=2,ut=4,G=1,pe=2,_t=1,Xt=2,jr=4,Rt=8,te=16,It=32,de=64,Ft=128,At=256,Xe=512,In=30,$t="...",An=800,tr=16,v=1,E=2,$=3,K=1/0,J=9007199254740991,F=17976931348623157e292,ee=0/0,dt=4294967295,er=dt-1,au=dt>>>1,ou=[["ary",Ft],["bind",_t],["bindKey",Xt],["curry",Rt],["curryRight",te],["flip",Xe],["partial",It],["partialRight",de],["rearg",At]],He="[object Arguments]",Dr="[object Array]",uu="[object AsyncFunction]",rr="[object Boolean]",nr="[object Date]",cu="[object DOMException]",xr="[object Error]",Sr="[object Function]",os="[object GeneratorFunction]",zt="[object Map]",ir="[object Number]",hu="[object Null]",re="[object Object]",us="[object Promise]",fu="[object Proxy]",sr="[object RegExp]",Wt="[object Set]",ar="[object String]",Tr="[object Symbol]",lu="[object Undefined]",or="[object WeakMap]",pu="[object WeakSet]",ur="[object ArrayBuffer]",Le="[object DataView]",On="[object Float32Array]",jn="[object Float64Array]",Dn="[object Int8Array]",xn="[object Int16Array]",Sn="[object Int32Array]",Tn="[object Uint8Array]",Rn="[object Uint8ClampedArray]",$n="[object Uint16Array]",qn="[object Uint32Array]",du=/\b__p \+= '';/g,vu=/\b(__p \+=) '' \+/g,gu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cs=/&(?:amp|lt|gt|quot|#39);/g,hs=/[&<>"']/g,_u=RegExp(cs.source),mu=RegExp(hs.source),yu=/<%-([\s\S]+?)%>/g,wu=/<%([\s\S]+?)%>/g,fs=/<%=([\s\S]+?)%>/g,bu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pu=/^\w*$/,Eu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nn=/[\\^$.*+?()[\]{}|]/g,Cu=RegExp(Nn.source),Hn=/^\s+/,Iu=/\s/,Au=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ou=/\{\n\/\* \[wrapped with (.+)\] \*/,ju=/,? & /,Du=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xu=/[()=,{}\[\]\/\s]/,Su=/\\(\\)?/g,Tu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ls=/\w*$/,Ru=/^[-+]0x[0-9a-f]+$/i,$u=/^0b[01]+$/i,qu=/^\[object .+?Constructor\]$/,Nu=/^0o[0-7]+$/i,Hu=/^(?:0|[1-9]\d*)$/,Lu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rr=/($^)/,ku=/['\n\r\u2028\u2029\\]/g,$r="\\ud800-\\udfff",Mu="\\u0300-\\u036f",Uu="\\ufe20-\\ufe2f",Bu="\\u20d0-\\u20ff",ps=Mu+Uu+Bu,ds="\\u2700-\\u27bf",vs="a-z\\xdf-\\xf6\\xf8-\\xff",Fu="\\xac\\xb1\\xd7\\xf7",zu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wu="\\u2000-\\u206f",Gu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gs="A-Z\\xc0-\\xd6\\xd8-\\xde",_s="\\ufe0e\\ufe0f",ms=Fu+zu+Wu+Gu,Ln="['\u2019]",Ju="["+$r+"]",ys="["+ms+"]",qr="["+ps+"]",ws="\\d+",Qu="["+ds+"]",bs="["+vs+"]",Ps="[^"+$r+ms+ws+ds+vs+gs+"]",kn="\\ud83c[\\udffb-\\udfff]",Vu="(?:"+qr+"|"+kn+")",Es="[^"+$r+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",Un="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="["+gs+"]",Cs="\\u200d",Is="(?:"+bs+"|"+Ps+")",Ku="(?:"+ke+"|"+Ps+")",As="(?:"+Ln+"(?:d|ll|m|re|s|t|ve))?",Os="(?:"+Ln+"(?:D|LL|M|RE|S|T|VE))?",js=Vu+"?",Ds="["+_s+"]?",Zu="(?:"+Cs+"(?:"+[Es,Mn,Un].join("|")+")"+Ds+js+")*",Yu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xs=Ds+js+Zu,tc="(?:"+[Qu,Mn,Un].join("|")+")"+xs,ec="(?:"+[Es+qr+"?",qr,Mn,Un,Ju].join("|")+")",rc=RegExp(Ln,"g"),nc=RegExp(qr,"g"),Bn=RegExp(kn+"(?="+kn+")|"+ec+xs,"g"),ic=RegExp([ke+"?"+bs+"+"+As+"(?="+[ys,ke,"$"].join("|")+")",Ku+"+"+Os+"(?="+[ys,ke+Is,"$"].join("|")+")",ke+"?"+Is+"+"+As,ke+"+"+Os,Xu,Yu,ws,tc].join("|"),"g"),sc=RegExp("["+Cs+$r+ps+_s+"]"),ac=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uc=-1,V={};V[On]=V[jn]=V[Dn]=V[xn]=V[Sn]=V[Tn]=V[Rn]=V[$n]=V[qn]=!0,V[He]=V[Dr]=V[ur]=V[rr]=V[Le]=V[nr]=V[xr]=V[Sr]=V[zt]=V[ir]=V[re]=V[sr]=V[Wt]=V[ar]=V[or]=!1;var Q={};Q[He]=Q[Dr]=Q[ur]=Q[Le]=Q[rr]=Q[nr]=Q[On]=Q[jn]=Q[Dn]=Q[xn]=Q[Sn]=Q[zt]=Q[ir]=Q[re]=Q[sr]=Q[Wt]=Q[ar]=Q[Tr]=Q[Tn]=Q[Rn]=Q[$n]=Q[qn]=!0,Q[xr]=Q[Sr]=Q[or]=!1;var cc={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},hc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pc=parseFloat,dc=parseInt,Ss=typeof Cr=="object"&&Cr&&Cr.Object===Object&&Cr,vc=typeof self=="object"&&self&&self.Object===Object&&self,ht=Ss||vc||Function("return this")(),Fn=s&&!s.nodeType&&s,Oe=Fn&&!0&&b&&!b.nodeType&&b,Ts=Oe&&Oe.exports===Fn,zn=Ts&&Ss.process,qt=function(){try{var l=Oe&&Oe.require&&Oe.require("util").types;return l||zn&&zn.binding&&zn.binding("util")}catch{}}(),Rs=qt&&qt.isArrayBuffer,$s=qt&&qt.isDate,qs=qt&&qt.isMap,Ns=qt&&qt.isRegExp,Hs=qt&&qt.isSet,Ls=qt&&qt.isTypedArray;function Ot(l,_,d){switch(d.length){case 0:return l.call(_);case 1:return l.call(_,d[0]);case 2:return l.call(_,d[0],d[1]);case 3:return l.call(_,d[0],d[1],d[2])}return l.apply(_,d)}function gc(l,_,d,I){for(var S=-1,U=l==null?0:l.length;++S<U;){var st=l[S];_(I,st,d(st),l)}return I}function Nt(l,_){for(var d=-1,I=l==null?0:l.length;++d<I&&_(l[d],d,l)!==!1;);return l}function _c(l,_){for(var d=l==null?0:l.length;d--&&_(l[d],d,l)!==!1;);return l}function ks(l,_){for(var d=-1,I=l==null?0:l.length;++d<I;)if(!_(l[d],d,l))return!1;return!0}function ve(l,_){for(var d=-1,I=l==null?0:l.length,S=0,U=[];++d<I;){var st=l[d];_(st,d,l)&&(U[S++]=st)}return U}function Nr(l,_){var d=l==null?0:l.length;return!!d&&Me(l,_,0)>-1}function Wn(l,_,d){for(var I=-1,S=l==null?0:l.length;++I<S;)if(d(_,l[I]))return!0;return!1}function Z(l,_){for(var d=-1,I=l==null?0:l.length,S=Array(I);++d<I;)S[d]=_(l[d],d,l);return S}function ge(l,_){for(var d=-1,I=_.length,S=l.length;++d<I;)l[S+d]=_[d];return l}function Gn(l,_,d,I){var S=-1,U=l==null?0:l.length;for(I&&U&&(d=l[++S]);++S<U;)d=_(d,l[S],S,l);return d}function mc(l,_,d,I){var S=l==null?0:l.length;for(I&&S&&(d=l[--S]);S--;)d=_(d,l[S],S,l);return d}function Jn(l,_){for(var d=-1,I=l==null?0:l.length;++d<I;)if(_(l[d],d,l))return!0;return!1}var yc=Qn("length");function wc(l){return l.split("")}function bc(l){return l.match(Du)||[]}function Ms(l,_,d){var I;return d(l,function(S,U,st){if(_(S,U,st))return I=U,!1}),I}function Hr(l,_,d,I){for(var S=l.length,U=d+(I?1:-1);I?U--:++U<S;)if(_(l[U],U,l))return U;return-1}function Me(l,_,d){return _===_?Rc(l,_,d):Hr(l,Us,d)}function Pc(l,_,d,I){for(var S=d-1,U=l.length;++S<U;)if(I(l[S],_))return S;return-1}function Us(l){return l!==l}function Bs(l,_){var d=l==null?0:l.length;return d?Kn(l,_)/d:ee}function Qn(l){return function(_){return _==null?i:_[l]}}function Vn(l){return function(_){return l==null?i:l[_]}}function Fs(l,_,d,I,S){return S(l,function(U,st,W){d=I?(I=!1,U):_(d,U,st,W)}),d}function Ec(l,_){var d=l.length;for(l.sort(_);d--;)l[d]=l[d].value;return l}function Kn(l,_){for(var d,I=-1,S=l.length;++I<S;){var U=_(l[I]);U!==i&&(d=d===i?U:d+U)}return d}function Zn(l,_){for(var d=-1,I=Array(l);++d<l;)I[d]=_(d);return I}function Cc(l,_){return Z(_,function(d){return[d,l[d]]})}function zs(l){return l&&l.slice(0,Qs(l)+1).replace(Hn,"")}function jt(l){return function(_){return l(_)}}function Yn(l,_){return Z(_,function(d){return l[d]})}function cr(l,_){return l.has(_)}function Ws(l,_){for(var d=-1,I=l.length;++d<I&&Me(_,l[d],0)>-1;);return d}function Gs(l,_){for(var d=l.length;d--&&Me(_,l[d],0)>-1;);return d}function Ic(l,_){for(var d=l.length,I=0;d--;)l[d]===_&&++I;return I}var Ac=Vn(cc),Oc=Vn(hc);function jc(l){return"\\"+lc[l]}function Dc(l,_){return l==null?i:l[_]}function Ue(l){return sc.test(l)}function xc(l){return ac.test(l)}function Sc(l){for(var _,d=[];!(_=l.next()).done;)d.push(_.value);return d}function Xn(l){var _=-1,d=Array(l.size);return l.forEach(function(I,S){d[++_]=[S,I]}),d}function Js(l,_){return function(d){return l(_(d))}}function _e(l,_){for(var d=-1,I=l.length,S=0,U=[];++d<I;){var st=l[d];(st===_||st===lt)&&(l[d]=lt,U[S++]=d)}return U}function Lr(l){var _=-1,d=Array(l.size);return l.forEach(function(I){d[++_]=I}),d}function Tc(l){var _=-1,d=Array(l.size);return l.forEach(function(I){d[++_]=[I,I]}),d}function Rc(l,_,d){for(var I=d-1,S=l.length;++I<S;)if(l[I]===_)return I;return-1}function $c(l,_,d){for(var I=d+1;I--;)if(l[I]===_)return I;return I}function Be(l){return Ue(l)?Nc(l):yc(l)}function Gt(l){return Ue(l)?Hc(l):wc(l)}function Qs(l){for(var _=l.length;_--&&Iu.test(l.charAt(_)););return _}var qc=Vn(fc);function Nc(l){for(var _=Bn.lastIndex=0;Bn.test(l);)++_;return _}function Hc(l){return l.match(Bn)||[]}function Lc(l){return l.match(ic)||[]}var kc=function l(_){_=_==null?ht:Fe.defaults(ht.Object(),_,Fe.pick(ht,oc));var d=_.Array,I=_.Date,S=_.Error,U=_.Function,st=_.Math,W=_.Object,ti=_.RegExp,Mc=_.String,Ht=_.TypeError,kr=d.prototype,Uc=U.prototype,ze=W.prototype,Mr=_["__core-js_shared__"],Ur=Uc.toString,z=ze.hasOwnProperty,Bc=0,Vs=function(){var t=/[^.]+$/.exec(Mr&&Mr.keys&&Mr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Br=ze.toString,Fc=Ur.call(W),zc=ht._,Wc=ti("^"+Ur.call(z).replace(Nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fr=Ts?_.Buffer:i,me=_.Symbol,zr=_.Uint8Array,Ks=Fr?Fr.allocUnsafe:i,Wr=Js(W.getPrototypeOf,W),Zs=W.create,Ys=ze.propertyIsEnumerable,Gr=kr.splice,Xs=me?me.isConcatSpreadable:i,hr=me?me.iterator:i,je=me?me.toStringTag:i,Jr=function(){try{var t=Re(W,"defineProperty");return t({},"",{}),t}catch{}}(),Gc=_.clearTimeout!==ht.clearTimeout&&_.clearTimeout,Jc=I&&I.now!==ht.Date.now&&I.now,Qc=_.setTimeout!==ht.setTimeout&&_.setTimeout,Qr=st.ceil,Vr=st.floor,ei=W.getOwnPropertySymbols,Vc=Fr?Fr.isBuffer:i,ta=_.isFinite,Kc=kr.join,Zc=Js(W.keys,W),at=st.max,vt=st.min,Yc=I.now,Xc=_.parseInt,ea=st.random,th=kr.reverse,ri=Re(_,"DataView"),fr=Re(_,"Map"),ni=Re(_,"Promise"),We=Re(_,"Set"),lr=Re(_,"WeakMap"),pr=Re(W,"create"),Kr=lr&&new lr,Ge={},eh=$e(ri),rh=$e(fr),nh=$e(ni),ih=$e(We),sh=$e(lr),Zr=me?me.prototype:i,dr=Zr?Zr.valueOf:i,ra=Zr?Zr.toString:i;function o(t){if(tt(t)&&!T(t)&&!(t instanceof L)){if(t instanceof Lt)return t;if(z.call(t,"__wrapped__"))return no(t)}return new Lt(t)}var Je=function(){function t(){}return function(e){if(!X(e))return{};if(Zs)return Zs(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Yr(){}function Lt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}o.templateSettings={escape:yu,evaluate:wu,interpolate:fs,variable:"",imports:{_:o}},o.prototype=Yr.prototype,o.prototype.constructor=o,Lt.prototype=Je(Yr.prototype),Lt.prototype.constructor=Lt;function L(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function ah(){var t=new L(this.__wrapped__);return t.__actions__=bt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=bt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=bt(this.__views__),t}function oh(){if(this.__filtered__){var t=new L(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function uh(){var t=this.__wrapped__.value(),e=this.__dir__,r=T(t),n=e<0,a=r?t.length:0,u=bf(0,a,this.__views__),c=u.start,h=u.end,p=h-c,m=n?h:c-1,y=this.__iteratees__,w=y.length,C=0,O=vt(p,this.__takeCount__);if(!r||!n&&a==p&&O==p)return Aa(t,this.__actions__);var D=[];t:for(;p--&&C<O;){m+=e;for(var q=-1,x=t[m];++q<w;){var H=y[q],k=H.iteratee,St=H.type,wt=k(x);if(St==E)x=wt;else if(!wt){if(St==v)continue t;break t}}D[C++]=x}return D}L.prototype=Je(Yr.prototype),L.prototype.constructor=L;function De(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ch(){this.__data__=pr?pr(null):{},this.size=0}function hh(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function fh(t){var e=this.__data__;if(pr){var r=e[t];return r===ot?i:r}return z.call(e,t)?e[t]:i}function lh(t){var e=this.__data__;return pr?e[t]!==i:z.call(e,t)}function ph(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=pr&&e===i?ot:e,this}De.prototype.clear=ch,De.prototype.delete=hh,De.prototype.get=fh,De.prototype.has=lh,De.prototype.set=ph;function ne(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dh(){this.__data__=[],this.size=0}function vh(t){var e=this.__data__,r=Xr(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Gr.call(e,r,1),--this.size,!0}function gh(t){var e=this.__data__,r=Xr(e,t);return r<0?i:e[r][1]}function _h(t){return Xr(this.__data__,t)>-1}function mh(t,e){var r=this.__data__,n=Xr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}ne.prototype.clear=dh,ne.prototype.delete=vh,ne.prototype.get=gh,ne.prototype.has=_h,ne.prototype.set=mh;function ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yh(){this.size=0,this.__data__={hash:new De,map:new(fr||ne),string:new De}}function wh(t){var e=ln(this,t).delete(t);return this.size-=e?1:0,e}function bh(t){return ln(this,t).get(t)}function Ph(t){return ln(this,t).has(t)}function Eh(t,e){var r=ln(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}ie.prototype.clear=yh,ie.prototype.delete=wh,ie.prototype.get=bh,ie.prototype.has=Ph,ie.prototype.set=Eh;function xe(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new ie;++e<r;)this.add(t[e])}function Ch(t){return this.__data__.set(t,ot),this}function Ih(t){return this.__data__.has(t)}xe.prototype.add=xe.prototype.push=Ch,xe.prototype.has=Ih;function Jt(t){var e=this.__data__=new ne(t);this.size=e.size}function Ah(){this.__data__=new ne,this.size=0}function Oh(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function jh(t){return this.__data__.get(t)}function Dh(t){return this.__data__.has(t)}function xh(t,e){var r=this.__data__;if(r instanceof ne){var n=r.__data__;if(!fr||n.length<g-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(t,e),this.size=r.size,this}Jt.prototype.clear=Ah,Jt.prototype.delete=Oh,Jt.prototype.get=jh,Jt.prototype.has=Dh,Jt.prototype.set=xh;function na(t,e){var r=T(t),n=!r&&qe(t),a=!r&&!n&&Ee(t),u=!r&&!n&&!a&&Ze(t),c=r||n||a||u,h=c?Zn(t.length,Mc):[],p=h.length;for(var m in t)(e||z.call(t,m))&&!(c&&(m=="length"||a&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||ue(m,p)))&&h.push(m);return h}function ia(t){var e=t.length;return e?t[di(0,e-1)]:i}function Sh(t,e){return pn(bt(t),Se(e,0,t.length))}function Th(t){return pn(bt(t))}function ii(t,e,r){(r!==i&&!Qt(t[e],r)||r===i&&!(e in t))&&se(t,e,r)}function vr(t,e,r){var n=t[e];(!(z.call(t,e)&&Qt(n,r))||r===i&&!(e in t))&&se(t,e,r)}function Xr(t,e){for(var r=t.length;r--;)if(Qt(t[r][0],e))return r;return-1}function Rh(t,e,r,n){return ye(t,function(a,u,c){e(n,a,r(a),c)}),n}function sa(t,e){return t&&Zt(e,ct(e),t)}function $h(t,e){return t&&Zt(e,Et(e),t)}function se(t,e,r){e=="__proto__"&&Jr?Jr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function si(t,e){for(var r=-1,n=e.length,a=d(n),u=t==null;++r<n;)a[r]=u?i:ki(t,e[r]);return a}function Se(t,e,r){return t===t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function kt(t,e,r,n,a,u){var c,h=e&nt,p=e&pt,m=e&ut;if(r&&(c=a?r(t,n,a,u):r(t)),c!==i)return c;if(!X(t))return t;var y=T(t);if(y){if(c=Ef(t),!h)return bt(t,c)}else{var w=gt(t),C=w==Sr||w==os;if(Ee(t))return Da(t,h);if(w==re||w==He||C&&!a){if(c=p||C?{}:Qa(t),!h)return p?lf(t,$h(c,t)):ff(t,sa(c,t))}else{if(!Q[w])return a?t:{};c=Cf(t,w,h)}}u||(u=new Jt);var O=u.get(t);if(O)return O;u.set(t,c),Co(t)?t.forEach(function(x){c.add(kt(x,e,r,x,t,u))}):Po(t)&&t.forEach(function(x,H){c.set(H,kt(x,e,r,H,t,u))});var D=m?p?Ii:Ci:p?Et:ct,q=y?i:D(t);return Nt(q||t,function(x,H){q&&(H=x,x=t[H]),vr(c,H,kt(x,e,r,H,t,u))}),c}function qh(t){var e=ct(t);return function(r){return aa(r,t,e)}}function aa(t,e,r){var n=r.length;if(t==null)return!n;for(t=W(t);n--;){var a=r[n],u=e[a],c=t[a];if(c===i&&!(a in t)||!u(c))return!1}return!0}function oa(t,e,r){if(typeof t!="function")throw new Ht(A);return Pr(function(){t.apply(i,r)},e)}function gr(t,e,r,n){var a=-1,u=Nr,c=!0,h=t.length,p=[],m=e.length;if(!h)return p;r&&(e=Z(e,jt(r))),n?(u=Wn,c=!1):e.length>=g&&(u=cr,c=!1,e=new xe(e));t:for(;++a<h;){var y=t[a],w=r==null?y:r(y);if(y=n||y!==0?y:0,c&&w===w){for(var C=m;C--;)if(e[C]===w)continue t;p.push(y)}else u(e,w,n)||p.push(y)}return p}var ye=$a(Kt),ua=$a(oi,!0);function Nh(t,e){var r=!0;return ye(t,function(n,a,u){return r=!!e(n,a,u),r}),r}function tn(t,e,r){for(var n=-1,a=t.length;++n<a;){var u=t[n],c=e(u);if(c!=null&&(h===i?c===c&&!xt(c):r(c,h)))var h=c,p=u}return p}function Hh(t,e,r,n){var a=t.length;for(r=R(r),r<0&&(r=-r>a?0:a+r),n=n===i||n>a?a:R(n),n<0&&(n+=a),n=r>n?0:Ao(n);r<n;)t[r++]=e;return t}function ca(t,e){var r=[];return ye(t,function(n,a,u){e(n,a,u)&&r.push(n)}),r}function ft(t,e,r,n,a){var u=-1,c=t.length;for(r||(r=Af),a||(a=[]);++u<c;){var h=t[u];e>0&&r(h)?e>1?ft(h,e-1,r,n,a):ge(a,h):n||(a[a.length]=h)}return a}var ai=qa(),ha=qa(!0);function Kt(t,e){return t&&ai(t,e,ct)}function oi(t,e){return t&&ha(t,e,ct)}function en(t,e){return ve(e,function(r){return ce(t[r])})}function Te(t,e){e=be(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Yt(e[r++])];return r&&r==n?t:i}function fa(t,e,r){var n=e(t);return T(t)?n:ge(n,r(t))}function mt(t){return t==null?t===i?lu:hu:je&&je in W(t)?wf(t):Rf(t)}function ui(t,e){return t>e}function Lh(t,e){return t!=null&&z.call(t,e)}function kh(t,e){return t!=null&&e in W(t)}function Mh(t,e,r){return t>=vt(e,r)&&t<at(e,r)}function ci(t,e,r){for(var n=r?Wn:Nr,a=t[0].length,u=t.length,c=u,h=d(u),p=1/0,m=[];c--;){var y=t[c];c&&e&&(y=Z(y,jt(e))),p=vt(y.length,p),h[c]=!r&&(e||a>=120&&y.length>=120)?new xe(c&&y):i}y=t[0];var w=-1,C=h[0];t:for(;++w<a&&m.length<p;){var O=y[w],D=e?e(O):O;if(O=r||O!==0?O:0,!(C?cr(C,D):n(m,D,r))){for(c=u;--c;){var q=h[c];if(!(q?cr(q,D):n(t[c],D,r)))continue t}C&&C.push(D),m.push(O)}}return m}function Uh(t,e,r,n){return Kt(t,function(a,u,c){e(n,r(a),u,c)}),n}function _r(t,e,r){e=be(e,t),t=Ya(t,e);var n=t==null?t:t[Yt(Ut(e))];return n==null?i:Ot(n,t,r)}function la(t){return tt(t)&&mt(t)==He}function Bh(t){return tt(t)&&mt(t)==ur}function Fh(t){return tt(t)&&mt(t)==nr}function mr(t,e,r,n,a){return t===e?!0:t==null||e==null||!tt(t)&&!tt(e)?t!==t&&e!==e:zh(t,e,r,n,mr,a)}function zh(t,e,r,n,a,u){var c=T(t),h=T(e),p=c?Dr:gt(t),m=h?Dr:gt(e);p=p==He?re:p,m=m==He?re:m;var y=p==re,w=m==re,C=p==m;if(C&&Ee(t)){if(!Ee(e))return!1;c=!0,y=!1}if(C&&!y)return u||(u=new Jt),c||Ze(t)?Wa(t,e,r,n,a,u):mf(t,e,p,r,n,a,u);if(!(r&G)){var O=y&&z.call(t,"__wrapped__"),D=w&&z.call(e,"__wrapped__");if(O||D){var q=O?t.value():t,x=D?e.value():e;return u||(u=new Jt),a(q,x,r,n,u)}}return C?(u||(u=new Jt),yf(t,e,r,n,a,u)):!1}function Wh(t){return tt(t)&&gt(t)==zt}function hi(t,e,r,n){var a=r.length,u=a,c=!n;if(t==null)return!u;for(t=W(t);a--;){var h=r[a];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<u;){h=r[a];var p=h[0],m=t[p],y=h[1];if(c&&h[2]){if(m===i&&!(p in t))return!1}else{var w=new Jt;if(n)var C=n(m,y,p,t,e,w);if(!(C===i?mr(y,m,G|pe,n,w):C))return!1}}return!0}function pa(t){if(!X(t)||jf(t))return!1;var e=ce(t)?Wc:qu;return e.test($e(t))}function Gh(t){return tt(t)&&mt(t)==sr}function Jh(t){return tt(t)&&gt(t)==Wt}function Qh(t){return tt(t)&&yn(t.length)&&!!V[mt(t)]}function da(t){return typeof t=="function"?t:t==null?Ct:typeof t=="object"?T(t)?_a(t[0],t[1]):ga(t):Ho(t)}function fi(t){if(!br(t))return Zc(t);var e=[];for(var r in W(t))z.call(t,r)&&r!="constructor"&&e.push(r);return e}function Vh(t){if(!X(t))return Tf(t);var e=br(t),r=[];for(var n in t)n=="constructor"&&(e||!z.call(t,n))||r.push(n);return r}function li(t,e){return t<e}function va(t,e){var r=-1,n=Pt(t)?d(t.length):[];return ye(t,function(a,u,c){n[++r]=e(a,u,c)}),n}function ga(t){var e=Oi(t);return e.length==1&&e[0][2]?Ka(e[0][0],e[0][1]):function(r){return r===t||hi(r,t,e)}}function _a(t,e){return Di(t)&&Va(e)?Ka(Yt(t),e):function(r){var n=ki(r,t);return n===i&&n===e?Mi(r,t):mr(e,n,G|pe)}}function rn(t,e,r,n,a){t!==e&&ai(e,function(u,c){if(a||(a=new Jt),X(u))Kh(t,e,c,r,rn,n,a);else{var h=n?n(Si(t,c),u,c+"",t,e,a):i;h===i&&(h=u),ii(t,c,h)}},Et)}function Kh(t,e,r,n,a,u,c){var h=Si(t,r),p=Si(e,r),m=c.get(p);if(m){ii(t,r,m);return}var y=u?u(h,p,r+"",t,e,c):i,w=y===i;if(w){var C=T(p),O=!C&&Ee(p),D=!C&&!O&&Ze(p);y=p,C||O||D?T(h)?y=h:et(h)?y=bt(h):O?(w=!1,y=Da(p,!0)):D?(w=!1,y=xa(p,!0)):y=[]:Er(p)||qe(p)?(y=h,qe(h)?y=Oo(h):(!X(h)||ce(h))&&(y=Qa(p))):w=!1}w&&(c.set(p,y),a(y,p,n,u,c),c.delete(p)),ii(t,r,y)}function ma(t,e){var r=t.length;if(r)return e+=e<0?r:0,ue(e,r)?t[e]:i}function ya(t,e,r){e.length?e=Z(e,function(u){return T(u)?function(c){return Te(c,u.length===1?u[0]:u)}:u}):e=[Ct];var n=-1;e=Z(e,jt(j()));var a=va(t,function(u,c,h){var p=Z(e,function(m){return m(u)});return{criteria:p,index:++n,value:u}});return Ec(a,function(u,c){return hf(u,c,r)})}function Zh(t,e){return wa(t,e,function(r,n){return Mi(t,n)})}function wa(t,e,r){for(var n=-1,a=e.length,u={};++n<a;){var c=e[n],h=Te(t,c);r(h,c)&&yr(u,be(c,t),h)}return u}function Yh(t){return function(e){return Te(e,t)}}function pi(t,e,r,n){var a=n?Pc:Me,u=-1,c=e.length,h=t;for(t===e&&(e=bt(e)),r&&(h=Z(t,jt(r)));++u<c;)for(var p=0,m=e[u],y=r?r(m):m;(p=a(h,y,p,n))>-1;)h!==t&&Gr.call(h,p,1),Gr.call(t,p,1);return t}function ba(t,e){for(var r=t?e.length:0,n=r-1;r--;){var a=e[r];if(r==n||a!==u){var u=a;ue(a)?Gr.call(t,a,1):_i(t,a)}}return t}function di(t,e){return t+Vr(ea()*(e-t+1))}function Xh(t,e,r,n){for(var a=-1,u=at(Qr((e-t)/(r||1)),0),c=d(u);u--;)c[n?u:++a]=t,t+=r;return c}function vi(t,e){var r="";if(!t||e<1||e>J)return r;do e%2&&(r+=t),e=Vr(e/2),e&&(t+=t);while(e);return r}function N(t,e){return Ti(Za(t,e,Ct),t+"")}function tf(t){return ia(Ye(t))}function ef(t,e){var r=Ye(t);return pn(r,Se(e,0,r.length))}function yr(t,e,r,n){if(!X(t))return t;e=be(e,t);for(var a=-1,u=e.length,c=u-1,h=t;h!=null&&++a<u;){var p=Yt(e[a]),m=r;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(a!=c){var y=h[p];m=n?n(y,p,h):i,m===i&&(m=X(y)?y:ue(e[a+1])?[]:{})}vr(h,p,m),h=h[p]}return t}var Pa=Kr?function(t,e){return Kr.set(t,e),t}:Ct,rf=Jr?function(t,e){return Jr(t,"toString",{configurable:!0,enumerable:!1,value:Bi(e),writable:!0})}:Ct;function nf(t){return pn(Ye(t))}function Mt(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var u=d(a);++n<a;)u[n]=t[n+e];return u}function sf(t,e){var r;return ye(t,function(n,a,u){return r=e(n,a,u),!r}),!!r}function nn(t,e,r){var n=0,a=t==null?n:t.length;if(typeof e=="number"&&e===e&&a<=au){for(;n<a;){var u=n+a>>>1,c=t[u];c!==null&&!xt(c)&&(r?c<=e:c<e)?n=u+1:a=u}return a}return gi(t,e,Ct,r)}function gi(t,e,r,n){var a=0,u=t==null?0:t.length;if(u===0)return 0;e=r(e);for(var c=e!==e,h=e===null,p=xt(e),m=e===i;a<u;){var y=Vr((a+u)/2),w=r(t[y]),C=w!==i,O=w===null,D=w===w,q=xt(w);if(c)var x=n||D;else m?x=D&&(n||C):h?x=D&&C&&(n||!O):p?x=D&&C&&!O&&(n||!q):O||q?x=!1:x=n?w<=e:w<e;x?a=y+1:u=y}return vt(u,er)}function Ea(t,e){for(var r=-1,n=t.length,a=0,u=[];++r<n;){var c=t[r],h=e?e(c):c;if(!r||!Qt(h,p)){var p=h;u[a++]=c===0?0:c}}return u}function Ca(t){return typeof t=="number"?t:xt(t)?ee:+t}function Dt(t){if(typeof t=="string")return t;if(T(t))return Z(t,Dt)+"";if(xt(t))return ra?ra.call(t):"";var e=t+"";return e=="0"&&1/t==-K?"-0":e}function we(t,e,r){var n=-1,a=Nr,u=t.length,c=!0,h=[],p=h;if(r)c=!1,a=Wn;else if(u>=g){var m=e?null:gf(t);if(m)return Lr(m);c=!1,a=cr,p=new xe}else p=e?[]:h;t:for(;++n<u;){var y=t[n],w=e?e(y):y;if(y=r||y!==0?y:0,c&&w===w){for(var C=p.length;C--;)if(p[C]===w)continue t;e&&p.push(w),h.push(y)}else a(p,w,r)||(p!==h&&p.push(w),h.push(y))}return h}function _i(t,e){return e=be(e,t),t=Ya(t,e),t==null||delete t[Yt(Ut(e))]}function Ia(t,e,r,n){return yr(t,e,r(Te(t,e)),n)}function sn(t,e,r,n){for(var a=t.length,u=n?a:-1;(n?u--:++u<a)&&e(t[u],u,t););return r?Mt(t,n?0:u,n?u+1:a):Mt(t,n?u+1:0,n?a:u)}function Aa(t,e){var r=t;return r instanceof L&&(r=r.value()),Gn(e,function(n,a){return a.func.apply(a.thisArg,ge([n],a.args))},r)}function mi(t,e,r){var n=t.length;if(n<2)return n?we(t[0]):[];for(var a=-1,u=d(n);++a<n;)for(var c=t[a],h=-1;++h<n;)h!=a&&(u[a]=gr(u[a]||c,t[h],e,r));return we(ft(u,1),e,r)}function Oa(t,e,r){for(var n=-1,a=t.length,u=e.length,c={};++n<a;){var h=n<u?e[n]:i;r(c,t[n],h)}return c}function yi(t){return et(t)?t:[]}function wi(t){return typeof t=="function"?t:Ct}function be(t,e){return T(t)?t:Di(t,e)?[t]:ro(B(t))}var af=N;function Pe(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:Mt(t,e,r)}var ja=Gc||function(t){return ht.clearTimeout(t)};function Da(t,e){if(e)return t.slice();var r=t.length,n=Ks?Ks(r):new t.constructor(r);return t.copy(n),n}function bi(t){var e=new t.constructor(t.byteLength);return new zr(e).set(new zr(t)),e}function of(t,e){var r=e?bi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function uf(t){var e=new t.constructor(t.source,ls.exec(t));return e.lastIndex=t.lastIndex,e}function cf(t){return dr?W(dr.call(t)):{}}function xa(t,e){var r=e?bi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Sa(t,e){if(t!==e){var r=t!==i,n=t===null,a=t===t,u=xt(t),c=e!==i,h=e===null,p=e===e,m=xt(e);if(!h&&!m&&!u&&t>e||u&&c&&p&&!h&&!m||n&&c&&p||!r&&p||!a)return 1;if(!n&&!u&&!m&&t<e||m&&r&&a&&!n&&!u||h&&r&&a||!c&&a||!p)return-1}return 0}function hf(t,e,r){for(var n=-1,a=t.criteria,u=e.criteria,c=a.length,h=r.length;++n<c;){var p=Sa(a[n],u[n]);if(p){if(n>=h)return p;var m=r[n];return p*(m=="desc"?-1:1)}}return t.index-e.index}function Ta(t,e,r,n){for(var a=-1,u=t.length,c=r.length,h=-1,p=e.length,m=at(u-c,0),y=d(p+m),w=!n;++h<p;)y[h]=e[h];for(;++a<c;)(w||a<u)&&(y[r[a]]=t[a]);for(;m--;)y[h++]=t[a++];return y}function Ra(t,e,r,n){for(var a=-1,u=t.length,c=-1,h=r.length,p=-1,m=e.length,y=at(u-h,0),w=d(y+m),C=!n;++a<y;)w[a]=t[a];for(var O=a;++p<m;)w[O+p]=e[p];for(;++c<h;)(C||a<u)&&(w[O+r[c]]=t[a++]);return w}function bt(t,e){var r=-1,n=t.length;for(e||(e=d(n));++r<n;)e[r]=t[r];return e}function Zt(t,e,r,n){var a=!r;r||(r={});for(var u=-1,c=e.length;++u<c;){var h=e[u],p=n?n(r[h],t[h],h,r,t):i;p===i&&(p=t[h]),a?se(r,h,p):vr(r,h,p)}return r}function ff(t,e){return Zt(t,ji(t),e)}function lf(t,e){return Zt(t,Ga(t),e)}function an(t,e){return function(r,n){var a=T(r)?gc:Rh,u=e?e():{};return a(r,t,j(n,2),u)}}function Qe(t){return N(function(e,r){var n=-1,a=r.length,u=a>1?r[a-1]:i,c=a>2?r[2]:i;for(u=t.length>3&&typeof u=="function"?(a--,u):i,c&&yt(r[0],r[1],c)&&(u=a<3?i:u,a=1),e=W(e);++n<a;){var h=r[n];h&&t(e,h,n,u)}return e})}function $a(t,e){return function(r,n){if(r==null)return r;if(!Pt(r))return t(r,n);for(var a=r.length,u=e?a:-1,c=W(r);(e?u--:++u<a)&&n(c[u],u,c)!==!1;);return r}}function qa(t){return function(e,r,n){for(var a=-1,u=W(e),c=n(e),h=c.length;h--;){var p=c[t?h:++a];if(r(u[p],p,u)===!1)break}return e}}function pf(t,e,r){var n=e&_t,a=wr(t);function u(){var c=this&&this!==ht&&this instanceof u?a:t;return c.apply(n?r:this,arguments)}return u}function Na(t){return function(e){e=B(e);var r=Ue(e)?Gt(e):i,n=r?r[0]:e.charAt(0),a=r?Pe(r,1).join(""):e.slice(1);return n[t]()+a}}function Ve(t){return function(e){return Gn(qo($o(e).replace(rc,"")),t,"")}}function wr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Je(t.prototype),n=t.apply(r,e);return X(n)?n:r}}function df(t,e,r){var n=wr(t);function a(){for(var u=arguments.length,c=d(u),h=u,p=Ke(a);h--;)c[h]=arguments[h];var m=u<3&&c[0]!==p&&c[u-1]!==p?[]:_e(c,p);if(u-=m.length,u<r)return Ua(t,e,on,a.placeholder,i,c,m,i,i,r-u);var y=this&&this!==ht&&this instanceof a?n:t;return Ot(y,this,c)}return a}function Ha(t){return function(e,r,n){var a=W(e);if(!Pt(e)){var u=j(r,3);e=ct(e),r=function(h){return u(a[h],h,a)}}var c=t(e,r,n);return c>-1?a[u?e[c]:c]:i}}function La(t){return oe(function(e){var r=e.length,n=r,a=Lt.prototype.thru;for(t&&e.reverse();n--;){var u=e[n];if(typeof u!="function")throw new Ht(A);if(a&&!c&&fn(u)=="wrapper")var c=new Lt([],!0)}for(n=c?n:r;++n<r;){u=e[n];var h=fn(u),p=h=="wrapper"?Ai(u):i;p&&xi(p[0])&&p[1]==(Ft|Rt|It|At)&&!p[4].length&&p[9]==1?c=c[fn(p[0])].apply(c,p[3]):c=u.length==1&&xi(u)?c[h]():c.thru(u)}return function(){var m=arguments,y=m[0];if(c&&m.length==1&&T(y))return c.plant(y).value();for(var w=0,C=r?e[w].apply(this,m):y;++w<r;)C=e[w].call(this,C);return C}})}function on(t,e,r,n,a,u,c,h,p,m){var y=e&Ft,w=e&_t,C=e&Xt,O=e&(Rt|te),D=e&Xe,q=C?i:wr(t);function x(){for(var H=arguments.length,k=d(H),St=H;St--;)k[St]=arguments[St];if(O)var wt=Ke(x),Tt=Ic(k,wt);if(n&&(k=Ta(k,n,a,O)),u&&(k=Ra(k,u,c,O)),H-=Tt,O&&H<m){var rt=_e(k,wt);return Ua(t,e,on,x.placeholder,r,k,rt,h,p,m-H)}var Vt=w?r:this,fe=C?Vt[t]:t;return H=k.length,h?k=$f(k,h):D&&H>1&&k.reverse(),y&&p<H&&(k.length=p),this&&this!==ht&&this instanceof x&&(fe=q||wr(fe)),fe.apply(Vt,k)}return x}function ka(t,e){return function(r,n){return Uh(r,t,e(n),{})}}function un(t,e){return function(r,n){var a;if(r===i&&n===i)return e;if(r!==i&&(a=r),n!==i){if(a===i)return n;typeof r=="string"||typeof n=="string"?(r=Dt(r),n=Dt(n)):(r=Ca(r),n=Ca(n)),a=t(r,n)}return a}}function Pi(t){return oe(function(e){return e=Z(e,jt(j())),N(function(r){var n=this;return t(e,function(a){return Ot(a,n,r)})})})}function cn(t,e){e=e===i?" ":Dt(e);var r=e.length;if(r<2)return r?vi(e,t):e;var n=vi(e,Qr(t/Be(e)));return Ue(e)?Pe(Gt(n),0,t).join(""):n.slice(0,t)}function vf(t,e,r,n){var a=e&_t,u=wr(t);function c(){for(var h=-1,p=arguments.length,m=-1,y=n.length,w=d(y+p),C=this&&this!==ht&&this instanceof c?u:t;++m<y;)w[m]=n[m];for(;p--;)w[m++]=arguments[++h];return Ot(C,a?r:this,w)}return c}function Ma(t){return function(e,r,n){return n&&typeof n!="number"&&yt(e,r,n)&&(r=n=i),e=he(e),r===i?(r=e,e=0):r=he(r),n=n===i?e<r?1:-1:he(n),Xh(e,r,n,t)}}function hn(t){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=Bt(e),r=Bt(r)),t(e,r)}}function Ua(t,e,r,n,a,u,c,h,p,m){var y=e&Rt,w=y?c:i,C=y?i:c,O=y?u:i,D=y?i:u;e|=y?It:de,e&=~(y?de:It),e&jr||(e&=~(_t|Xt));var q=[t,e,a,O,w,D,C,h,p,m],x=r.apply(i,q);return xi(t)&&Xa(x,q),x.placeholder=n,to(x,t,e)}function Ei(t){var e=st[t];return function(r,n){if(r=Bt(r),n=n==null?0:vt(R(n),292),n&&ta(r)){var a=(B(r)+"e").split("e"),u=e(a[0]+"e"+(+a[1]+n));return a=(B(u)+"e").split("e"),+(a[0]+"e"+(+a[1]-n))}return e(r)}}var gf=We&&1/Lr(new We([,-0]))[1]==K?function(t){return new We(t)}:Wi;function Ba(t){return function(e){var r=gt(e);return r==zt?Xn(e):r==Wt?Tc(e):Cc(e,t(e))}}function ae(t,e,r,n,a,u,c,h){var p=e&Xt;if(!p&&typeof t!="function")throw new Ht(A);var m=n?n.length:0;if(m||(e&=~(It|de),n=a=i),c=c===i?c:at(R(c),0),h=h===i?h:R(h),m-=a?a.length:0,e&de){var y=n,w=a;n=a=i}var C=p?i:Ai(t),O=[t,e,r,n,a,y,w,u,c,h];if(C&&Sf(O,C),t=O[0],e=O[1],r=O[2],n=O[3],a=O[4],h=O[9]=O[9]===i?p?0:t.length:at(O[9]-m,0),!h&&e&(Rt|te)&&(e&=~(Rt|te)),!e||e==_t)var D=pf(t,e,r);else e==Rt||e==te?D=df(t,e,h):(e==It||e==(_t|It))&&!a.length?D=vf(t,e,r,n):D=on.apply(i,O);var q=C?Pa:Xa;return to(q(D,O),t,e)}function Fa(t,e,r,n){return t===i||Qt(t,ze[r])&&!z.call(n,r)?e:t}function za(t,e,r,n,a,u){return X(t)&&X(e)&&(u.set(e,t),rn(t,e,i,za,u),u.delete(e)),t}function _f(t){return Er(t)?i:t}function Wa(t,e,r,n,a,u){var c=r&G,h=t.length,p=e.length;if(h!=p&&!(c&&p>h))return!1;var m=u.get(t),y=u.get(e);if(m&&y)return m==e&&y==t;var w=-1,C=!0,O=r&pe?new xe:i;for(u.set(t,e),u.set(e,t);++w<h;){var D=t[w],q=e[w];if(n)var x=c?n(q,D,w,e,t,u):n(D,q,w,t,e,u);if(x!==i){if(x)continue;C=!1;break}if(O){if(!Jn(e,function(H,k){if(!cr(O,k)&&(D===H||a(D,H,r,n,u)))return O.push(k)})){C=!1;break}}else if(!(D===q||a(D,q,r,n,u))){C=!1;break}}return u.delete(t),u.delete(e),C}function mf(t,e,r,n,a,u,c){switch(r){case Le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ur:return!(t.byteLength!=e.byteLength||!u(new zr(t),new zr(e)));case rr:case nr:case ir:return Qt(+t,+e);case xr:return t.name==e.name&&t.message==e.message;case sr:case ar:return t==e+"";case zt:var h=Xn;case Wt:var p=n&G;if(h||(h=Lr),t.size!=e.size&&!p)return!1;var m=c.get(t);if(m)return m==e;n|=pe,c.set(t,e);var y=Wa(h(t),h(e),n,a,u,c);return c.delete(t),y;case Tr:if(dr)return dr.call(t)==dr.call(e)}return!1}function yf(t,e,r,n,a,u){var c=r&G,h=Ci(t),p=h.length,m=Ci(e),y=m.length;if(p!=y&&!c)return!1;for(var w=p;w--;){var C=h[w];if(!(c?C in e:z.call(e,C)))return!1}var O=u.get(t),D=u.get(e);if(O&&D)return O==e&&D==t;var q=!0;u.set(t,e),u.set(e,t);for(var x=c;++w<p;){C=h[w];var H=t[C],k=e[C];if(n)var St=c?n(k,H,C,e,t,u):n(H,k,C,t,e,u);if(!(St===i?H===k||a(H,k,r,n,u):St)){q=!1;break}x||(x=C=="constructor")}if(q&&!x){var wt=t.constructor,Tt=e.constructor;wt!=Tt&&"constructor"in t&&"constructor"in e&&!(typeof wt=="function"&&wt instanceof wt&&typeof Tt=="function"&&Tt instanceof Tt)&&(q=!1)}return u.delete(t),u.delete(e),q}function oe(t){return Ti(Za(t,i,ao),t+"")}function Ci(t){return fa(t,ct,ji)}function Ii(t){return fa(t,Et,Ga)}var Ai=Kr?function(t){return Kr.get(t)}:Wi;function fn(t){for(var e=t.name+"",r=Ge[e],n=z.call(Ge,e)?r.length:0;n--;){var a=r[n],u=a.func;if(u==null||u==t)return a.name}return e}function Ke(t){var e=z.call(o,"placeholder")?o:t;return e.placeholder}function j(){var t=o.iteratee||Fi;return t=t===Fi?da:t,arguments.length?t(arguments[0],arguments[1]):t}function ln(t,e){var r=t.__data__;return Of(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Oi(t){for(var e=ct(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,Va(a)]}return e}function Re(t,e){var r=Dc(t,e);return pa(r)?r:i}function wf(t){var e=z.call(t,je),r=t[je];try{t[je]=i;var n=!0}catch{}var a=Br.call(t);return n&&(e?t[je]=r:delete t[je]),a}var ji=ei?function(t){return t==null?[]:(t=W(t),ve(ei(t),function(e){return Ys.call(t,e)}))}:Gi,Ga=ei?function(t){for(var e=[];t;)ge(e,ji(t)),t=Wr(t);return e}:Gi,gt=mt;(ri&&gt(new ri(new ArrayBuffer(1)))!=Le||fr&&gt(new fr)!=zt||ni&&gt(ni.resolve())!=us||We&&gt(new We)!=Wt||lr&&gt(new lr)!=or)&&(gt=function(t){var e=mt(t),r=e==re?t.constructor:i,n=r?$e(r):"";if(n)switch(n){case eh:return Le;case rh:return zt;case nh:return us;case ih:return Wt;case sh:return or}return e});function bf(t,e,r){for(var n=-1,a=r.length;++n<a;){var u=r[n],c=u.size;switch(u.type){case"drop":t+=c;break;case"dropRight":e-=c;break;case"take":e=vt(e,t+c);break;case"takeRight":t=at(t,e-c);break}}return{start:t,end:e}}function Pf(t){var e=t.match(Ou);return e?e[1].split(ju):[]}function Ja(t,e,r){e=be(e,t);for(var n=-1,a=e.length,u=!1;++n<a;){var c=Yt(e[n]);if(!(u=t!=null&&r(t,c)))break;t=t[c]}return u||++n!=a?u:(a=t==null?0:t.length,!!a&&yn(a)&&ue(c,a)&&(T(t)||qe(t)))}function Ef(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&z.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Qa(t){return typeof t.constructor=="function"&&!br(t)?Je(Wr(t)):{}}function Cf(t,e,r){var n=t.constructor;switch(e){case ur:return bi(t);case rr:case nr:return new n(+t);case Le:return of(t,r);case On:case jn:case Dn:case xn:case Sn:case Tn:case Rn:case $n:case qn:return xa(t,r);case zt:return new n;case ir:case ar:return new n(t);case sr:return uf(t);case Wt:return new n;case Tr:return cf(t)}}function If(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Au,`{
/* [wrapped with `+e+`] */
`)}function Af(t){return T(t)||qe(t)||!!(Xs&&t&&t[Xs])}function ue(t,e){var r=typeof t;return e=e!=null?e:J,!!e&&(r=="number"||r!="symbol"&&Hu.test(t))&&t>-1&&t%1==0&&t<e}function yt(t,e,r){if(!X(r))return!1;var n=typeof e;return(n=="number"?Pt(r)&&ue(e,r.length):n=="string"&&e in r)?Qt(r[e],t):!1}function Di(t,e){if(T(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||xt(t)?!0:Pu.test(t)||!bu.test(t)||e!=null&&t in W(e)}function Of(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xi(t){var e=fn(t),r=o[e];if(typeof r!="function"||!(e in L.prototype))return!1;if(t===r)return!0;var n=Ai(r);return!!n&&t===n[0]}function jf(t){return!!Vs&&Vs in t}var Df=Mr?ce:Ji;function br(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ze;return t===r}function Va(t){return t===t&&!X(t)}function Ka(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==i||t in W(r))}}function xf(t){var e=_n(t,function(n){return r.size===it&&r.clear(),n}),r=e.cache;return e}function Sf(t,e){var r=t[1],n=e[1],a=r|n,u=a<(_t|Xt|Ft),c=n==Ft&&r==Rt||n==Ft&&r==At&&t[7].length<=e[8]||n==(Ft|At)&&e[7].length<=e[8]&&r==Rt;if(!(u||c))return t;n&_t&&(t[2]=e[2],a|=r&_t?0:jr);var h=e[3];if(h){var p=t[3];t[3]=p?Ta(p,h,e[4]):h,t[4]=p?_e(t[3],lt):e[4]}return h=e[5],h&&(p=t[5],t[5]=p?Ra(p,h,e[6]):h,t[6]=p?_e(t[5],lt):e[6]),h=e[7],h&&(t[7]=h),n&Ft&&(t[8]=t[8]==null?e[8]:vt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=a,t}function Tf(t){var e=[];if(t!=null)for(var r in W(t))e.push(r);return e}function Rf(t){return Br.call(t)}function Za(t,e,r){return e=at(e===i?t.length-1:e,0),function(){for(var n=arguments,a=-1,u=at(n.length-e,0),c=d(u);++a<u;)c[a]=n[e+a];a=-1;for(var h=d(e+1);++a<e;)h[a]=n[a];return h[e]=r(c),Ot(t,this,h)}}function Ya(t,e){return e.length<2?t:Te(t,Mt(e,0,-1))}function $f(t,e){for(var r=t.length,n=vt(e.length,r),a=bt(t);n--;){var u=e[n];t[n]=ue(u,r)?a[u]:i}return t}function Si(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Xa=eo(Pa),Pr=Qc||function(t,e){return ht.setTimeout(t,e)},Ti=eo(rf);function to(t,e,r){var n=e+"";return Ti(t,If(n,qf(Pf(n),r)))}function eo(t){var e=0,r=0;return function(){var n=Yc(),a=tr-(n-r);if(r=n,a>0){if(++e>=An)return arguments[0]}else e=0;return t.apply(i,arguments)}}function pn(t,e){var r=-1,n=t.length,a=n-1;for(e=e===i?n:e;++r<e;){var u=di(r,a),c=t[u];t[u]=t[r],t[r]=c}return t.length=e,t}var ro=xf(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Eu,function(r,n,a,u){e.push(a?u.replace(Su,"$1"):n||r)}),e});function Yt(t){if(typeof t=="string"||xt(t))return t;var e=t+"";return e=="0"&&1/t==-K?"-0":e}function $e(t){if(t!=null){try{return Ur.call(t)}catch{}try{return t+""}catch{}}return""}function qf(t,e){return Nt(ou,function(r){var n="_."+r[0];e&r[1]&&!Nr(t,n)&&t.push(n)}),t.sort()}function no(t){if(t instanceof L)return t.clone();var e=new Lt(t.__wrapped__,t.__chain__);return e.__actions__=bt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Nf(t,e,r){(r?yt(t,e,r):e===i)?e=1:e=at(R(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var a=0,u=0,c=d(Qr(n/e));a<n;)c[u++]=Mt(t,a,a+=e);return c}function Hf(t){for(var e=-1,r=t==null?0:t.length,n=0,a=[];++e<r;){var u=t[e];u&&(a[n++]=u)}return a}function Lf(){var t=arguments.length;if(!t)return[];for(var e=d(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ge(T(r)?bt(r):[r],ft(e,1))}var kf=N(function(t,e){return et(t)?gr(t,ft(e,1,et,!0)):[]}),Mf=N(function(t,e){var r=Ut(e);return et(r)&&(r=i),et(t)?gr(t,ft(e,1,et,!0),j(r,2)):[]}),Uf=N(function(t,e){var r=Ut(e);return et(r)&&(r=i),et(t)?gr(t,ft(e,1,et,!0),i,r):[]});function Bf(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),Mt(t,e<0?0:e,n)):[]}function Ff(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),e=n-e,Mt(t,0,e<0?0:e)):[]}function zf(t,e){return t&&t.length?sn(t,j(e,3),!0,!0):[]}function Wf(t,e){return t&&t.length?sn(t,j(e,3),!0):[]}function Gf(t,e,r,n){var a=t==null?0:t.length;return a?(r&&typeof r!="number"&&yt(t,e,r)&&(r=0,n=a),Hh(t,e,r,n)):[]}function io(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:R(r);return a<0&&(a=at(n+a,0)),Hr(t,j(e,3),a)}function so(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=n-1;return r!==i&&(a=R(r),a=r<0?at(n+a,0):vt(a,n-1)),Hr(t,j(e,3),a,!0)}function ao(t){var e=t==null?0:t.length;return e?ft(t,1):[]}function Jf(t){var e=t==null?0:t.length;return e?ft(t,K):[]}function Qf(t,e){var r=t==null?0:t.length;return r?(e=e===i?1:R(e),ft(t,e)):[]}function Vf(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var a=t[e];n[a[0]]=a[1]}return n}function oo(t){return t&&t.length?t[0]:i}function Kf(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:R(r);return a<0&&(a=at(n+a,0)),Me(t,e,a)}function Zf(t){var e=t==null?0:t.length;return e?Mt(t,0,-1):[]}var Yf=N(function(t){var e=Z(t,yi);return e.length&&e[0]===t[0]?ci(e):[]}),Xf=N(function(t){var e=Ut(t),r=Z(t,yi);return e===Ut(r)?e=i:r.pop(),r.length&&r[0]===t[0]?ci(r,j(e,2)):[]}),tl=N(function(t){var e=Ut(t),r=Z(t,yi);return e=typeof e=="function"?e:i,e&&r.pop(),r.length&&r[0]===t[0]?ci(r,i,e):[]});function el(t,e){return t==null?"":Kc.call(t,e)}function Ut(t){var e=t==null?0:t.length;return e?t[e-1]:i}function rl(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=n;return r!==i&&(a=R(r),a=a<0?at(n+a,0):vt(a,n-1)),e===e?$c(t,e,a):Hr(t,Us,a,!0)}function nl(t,e){return t&&t.length?ma(t,R(e)):i}var il=N(uo);function uo(t,e){return t&&t.length&&e&&e.length?pi(t,e):t}function sl(t,e,r){return t&&t.length&&e&&e.length?pi(t,e,j(r,2)):t}function al(t,e,r){return t&&t.length&&e&&e.length?pi(t,e,i,r):t}var ol=oe(function(t,e){var r=t==null?0:t.length,n=si(t,e);return ba(t,Z(e,function(a){return ue(a,r)?+a:a}).sort(Sa)),n});function ul(t,e){var r=[];if(!(t&&t.length))return r;var n=-1,a=[],u=t.length;for(e=j(e,3);++n<u;){var c=t[n];e(c,n,t)&&(r.push(c),a.push(n))}return ba(t,a),r}function Ri(t){return t==null?t:th.call(t)}function cl(t,e,r){var n=t==null?0:t.length;return n?(r&&typeof r!="number"&&yt(t,e,r)?(e=0,r=n):(e=e==null?0:R(e),r=r===i?n:R(r)),Mt(t,e,r)):[]}function hl(t,e){return nn(t,e)}function fl(t,e,r){return gi(t,e,j(r,2))}function ll(t,e){var r=t==null?0:t.length;if(r){var n=nn(t,e);if(n<r&&Qt(t[n],e))return n}return-1}function pl(t,e){return nn(t,e,!0)}function dl(t,e,r){return gi(t,e,j(r,2),!0)}function vl(t,e){var r=t==null?0:t.length;if(r){var n=nn(t,e,!0)-1;if(Qt(t[n],e))return n}return-1}function gl(t){return t&&t.length?Ea(t):[]}function _l(t,e){return t&&t.length?Ea(t,j(e,2)):[]}function ml(t){var e=t==null?0:t.length;return e?Mt(t,1,e):[]}function yl(t,e,r){return t&&t.length?(e=r||e===i?1:R(e),Mt(t,0,e<0?0:e)):[]}function wl(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),e=n-e,Mt(t,e<0?0:e,n)):[]}function bl(t,e){return t&&t.length?sn(t,j(e,3),!1,!0):[]}function Pl(t,e){return t&&t.length?sn(t,j(e,3)):[]}var El=N(function(t){return we(ft(t,1,et,!0))}),Cl=N(function(t){var e=Ut(t);return et(e)&&(e=i),we(ft(t,1,et,!0),j(e,2))}),Il=N(function(t){var e=Ut(t);return e=typeof e=="function"?e:i,we(ft(t,1,et,!0),i,e)});function Al(t){return t&&t.length?we(t):[]}function Ol(t,e){return t&&t.length?we(t,j(e,2)):[]}function jl(t,e){return e=typeof e=="function"?e:i,t&&t.length?we(t,i,e):[]}function $i(t){if(!(t&&t.length))return[];var e=0;return t=ve(t,function(r){if(et(r))return e=at(r.length,e),!0}),Zn(e,function(r){return Z(t,Qn(r))})}function co(t,e){if(!(t&&t.length))return[];var r=$i(t);return e==null?r:Z(r,function(n){return Ot(e,i,n)})}var Dl=N(function(t,e){return et(t)?gr(t,e):[]}),xl=N(function(t){return mi(ve(t,et))}),Sl=N(function(t){var e=Ut(t);return et(e)&&(e=i),mi(ve(t,et),j(e,2))}),Tl=N(function(t){var e=Ut(t);return e=typeof e=="function"?e:i,mi(ve(t,et),i,e)}),Rl=N($i);function $l(t,e){return Oa(t||[],e||[],vr)}function ql(t,e){return Oa(t||[],e||[],yr)}var Nl=N(function(t){var e=t.length,r=e>1?t[e-1]:i;return r=typeof r=="function"?(t.pop(),r):i,co(t,r)});function ho(t){var e=o(t);return e.__chain__=!0,e}function Hl(t,e){return e(t),t}function dn(t,e){return e(t)}var Ll=oe(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,a=function(u){return si(u,t)};return e>1||this.__actions__.length||!(n instanceof L)||!ue(r)?this.thru(a):(n=n.slice(r,+r+(e?1:0)),n.__actions__.push({func:dn,args:[a],thisArg:i}),new Lt(n,this.__chain__).thru(function(u){return e&&!u.length&&u.push(i),u}))});function kl(){return ho(this)}function Ml(){return new Lt(this.value(),this.__chain__)}function Ul(){this.__values__===i&&(this.__values__=Io(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Bl(){return this}function Fl(t){for(var e,r=this;r instanceof Yr;){var n=no(r);n.__index__=0,n.__values__=i,e?a.__wrapped__=n:e=n;var a=n;r=r.__wrapped__}return a.__wrapped__=t,e}function zl(){var t=this.__wrapped__;if(t instanceof L){var e=t;return this.__actions__.length&&(e=new L(this)),e=e.reverse(),e.__actions__.push({func:dn,args:[Ri],thisArg:i}),new Lt(e,this.__chain__)}return this.thru(Ri)}function Wl(){return Aa(this.__wrapped__,this.__actions__)}var Gl=an(function(t,e,r){z.call(t,r)?++t[r]:se(t,r,1)});function Jl(t,e,r){var n=T(t)?ks:Nh;return r&&yt(t,e,r)&&(e=i),n(t,j(e,3))}function Ql(t,e){var r=T(t)?ve:ca;return r(t,j(e,3))}var Vl=Ha(io),Kl=Ha(so);function Zl(t,e){return ft(vn(t,e),1)}function Yl(t,e){return ft(vn(t,e),K)}function Xl(t,e,r){return r=r===i?1:R(r),ft(vn(t,e),r)}function fo(t,e){var r=T(t)?Nt:ye;return r(t,j(e,3))}function lo(t,e){var r=T(t)?_c:ua;return r(t,j(e,3))}var tp=an(function(t,e,r){z.call(t,r)?t[r].push(e):se(t,r,[e])});function ep(t,e,r,n){t=Pt(t)?t:Ye(t),r=r&&!n?R(r):0;var a=t.length;return r<0&&(r=at(a+r,0)),wn(t)?r<=a&&t.indexOf(e,r)>-1:!!a&&Me(t,e,r)>-1}var rp=N(function(t,e,r){var n=-1,a=typeof e=="function",u=Pt(t)?d(t.length):[];return ye(t,function(c){u[++n]=a?Ot(e,c,r):_r(c,e,r)}),u}),np=an(function(t,e,r){se(t,r,e)});function vn(t,e){var r=T(t)?Z:va;return r(t,j(e,3))}function ip(t,e,r,n){return t==null?[]:(T(e)||(e=e==null?[]:[e]),r=n?i:r,T(r)||(r=r==null?[]:[r]),ya(t,e,r))}var sp=an(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});function ap(t,e,r){var n=T(t)?Gn:Fs,a=arguments.length<3;return n(t,j(e,4),r,a,ye)}function op(t,e,r){var n=T(t)?mc:Fs,a=arguments.length<3;return n(t,j(e,4),r,a,ua)}function up(t,e){var r=T(t)?ve:ca;return r(t,mn(j(e,3)))}function cp(t){var e=T(t)?ia:tf;return e(t)}function hp(t,e,r){(r?yt(t,e,r):e===i)?e=1:e=R(e);var n=T(t)?Sh:ef;return n(t,e)}function fp(t){var e=T(t)?Th:nf;return e(t)}function lp(t){if(t==null)return 0;if(Pt(t))return wn(t)?Be(t):t.length;var e=gt(t);return e==zt||e==Wt?t.size:fi(t).length}function pp(t,e,r){var n=T(t)?Jn:sf;return r&&yt(t,e,r)&&(e=i),n(t,j(e,3))}var dp=N(function(t,e){if(t==null)return[];var r=e.length;return r>1&&yt(t,e[0],e[1])?e=[]:r>2&&yt(e[0],e[1],e[2])&&(e=[e[0]]),ya(t,ft(e,1),[])}),gn=Jc||function(){return ht.Date.now()};function vp(t,e){if(typeof e!="function")throw new Ht(A);return t=R(t),function(){if(--t<1)return e.apply(this,arguments)}}function po(t,e,r){return e=r?i:e,e=t&&e==null?t.length:e,ae(t,Ft,i,i,i,i,e)}function vo(t,e){var r;if(typeof e!="function")throw new Ht(A);return t=R(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var qi=N(function(t,e,r){var n=_t;if(r.length){var a=_e(r,Ke(qi));n|=It}return ae(t,n,e,r,a)}),go=N(function(t,e,r){var n=_t|Xt;if(r.length){var a=_e(r,Ke(go));n|=It}return ae(e,n,t,r,a)});function _o(t,e,r){e=r?i:e;var n=ae(t,Rt,i,i,i,i,i,e);return n.placeholder=_o.placeholder,n}function mo(t,e,r){e=r?i:e;var n=ae(t,te,i,i,i,i,i,e);return n.placeholder=mo.placeholder,n}function yo(t,e,r){var n,a,u,c,h,p,m=0,y=!1,w=!1,C=!0;if(typeof t!="function")throw new Ht(A);e=Bt(e)||0,X(r)&&(y=!!r.leading,w="maxWait"in r,u=w?at(Bt(r.maxWait)||0,e):u,C="trailing"in r?!!r.trailing:C);function O(rt){var Vt=n,fe=a;return n=a=i,m=rt,c=t.apply(fe,Vt),c}function D(rt){return m=rt,h=Pr(H,e),y?O(rt):c}function q(rt){var Vt=rt-p,fe=rt-m,Lo=e-Vt;return w?vt(Lo,u-fe):Lo}function x(rt){var Vt=rt-p,fe=rt-m;return p===i||Vt>=e||Vt<0||w&&fe>=u}function H(){var rt=gn();if(x(rt))return k(rt);h=Pr(H,q(rt))}function k(rt){return h=i,C&&n?O(rt):(n=a=i,c)}function St(){h!==i&&ja(h),m=0,n=p=a=h=i}function wt(){return h===i?c:k(gn())}function Tt(){var rt=gn(),Vt=x(rt);if(n=arguments,a=this,p=rt,Vt){if(h===i)return D(p);if(w)return ja(h),h=Pr(H,e),O(p)}return h===i&&(h=Pr(H,e)),c}return Tt.cancel=St,Tt.flush=wt,Tt}var gp=N(function(t,e){return oa(t,1,e)}),_p=N(function(t,e,r){return oa(t,Bt(e)||0,r)});function mp(t){return ae(t,Xe)}function _n(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new Ht(A);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],u=r.cache;if(u.has(a))return u.get(a);var c=t.apply(this,n);return r.cache=u.set(a,c)||u,c};return r.cache=new(_n.Cache||ie),r}_n.Cache=ie;function mn(t){if(typeof t!="function")throw new Ht(A);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function yp(t){return vo(2,t)}var wp=af(function(t,e){e=e.length==1&&T(e[0])?Z(e[0],jt(j())):Z(ft(e,1),jt(j()));var r=e.length;return N(function(n){for(var a=-1,u=vt(n.length,r);++a<u;)n[a]=e[a].call(this,n[a]);return Ot(t,this,n)})}),Ni=N(function(t,e){var r=_e(e,Ke(Ni));return ae(t,It,i,e,r)}),wo=N(function(t,e){var r=_e(e,Ke(wo));return ae(t,de,i,e,r)}),bp=oe(function(t,e){return ae(t,At,i,i,i,e)});function Pp(t,e){if(typeof t!="function")throw new Ht(A);return e=e===i?e:R(e),N(t,e)}function Ep(t,e){if(typeof t!="function")throw new Ht(A);return e=e==null?0:at(R(e),0),N(function(r){var n=r[e],a=Pe(r,0,e);return n&&ge(a,n),Ot(t,this,a)})}function Cp(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new Ht(A);return X(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),yo(t,e,{leading:n,maxWait:e,trailing:a})}function Ip(t){return po(t,1)}function Ap(t,e){return Ni(wi(e),t)}function Op(){if(!arguments.length)return[];var t=arguments[0];return T(t)?t:[t]}function jp(t){return kt(t,ut)}function Dp(t,e){return e=typeof e=="function"?e:i,kt(t,ut,e)}function xp(t){return kt(t,nt|ut)}function Sp(t,e){return e=typeof e=="function"?e:i,kt(t,nt|ut,e)}function Tp(t,e){return e==null||aa(t,e,ct(e))}function Qt(t,e){return t===e||t!==t&&e!==e}var Rp=hn(ui),$p=hn(function(t,e){return t>=e}),qe=la(function(){return arguments}())?la:function(t){return tt(t)&&z.call(t,"callee")&&!Ys.call(t,"callee")},T=d.isArray,qp=Rs?jt(Rs):Bh;function Pt(t){return t!=null&&yn(t.length)&&!ce(t)}function et(t){return tt(t)&&Pt(t)}function Np(t){return t===!0||t===!1||tt(t)&&mt(t)==rr}var Ee=Vc||Ji,Hp=$s?jt($s):Fh;function Lp(t){return tt(t)&&t.nodeType===1&&!Er(t)}function kp(t){if(t==null)return!0;if(Pt(t)&&(T(t)||typeof t=="string"||typeof t.splice=="function"||Ee(t)||Ze(t)||qe(t)))return!t.length;var e=gt(t);if(e==zt||e==Wt)return!t.size;if(br(t))return!fi(t).length;for(var r in t)if(z.call(t,r))return!1;return!0}function Mp(t,e){return mr(t,e)}function Up(t,e,r){r=typeof r=="function"?r:i;var n=r?r(t,e):i;return n===i?mr(t,e,i,r):!!n}function Hi(t){if(!tt(t))return!1;var e=mt(t);return e==xr||e==cu||typeof t.message=="string"&&typeof t.name=="string"&&!Er(t)}function Bp(t){return typeof t=="number"&&ta(t)}function ce(t){if(!X(t))return!1;var e=mt(t);return e==Sr||e==os||e==uu||e==fu}function bo(t){return typeof t=="number"&&t==R(t)}function yn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=J}function X(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function tt(t){return t!=null&&typeof t=="object"}var Po=qs?jt(qs):Wh;function Fp(t,e){return t===e||hi(t,e,Oi(e))}function zp(t,e,r){return r=typeof r=="function"?r:i,hi(t,e,Oi(e),r)}function Wp(t){return Eo(t)&&t!=+t}function Gp(t){if(Df(t))throw new S(P);return pa(t)}function Jp(t){return t===null}function Qp(t){return t==null}function Eo(t){return typeof t=="number"||tt(t)&&mt(t)==ir}function Er(t){if(!tt(t)||mt(t)!=re)return!1;var e=Wr(t);if(e===null)return!0;var r=z.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ur.call(r)==Fc}var Li=Ns?jt(Ns):Gh;function Vp(t){return bo(t)&&t>=-J&&t<=J}var Co=Hs?jt(Hs):Jh;function wn(t){return typeof t=="string"||!T(t)&&tt(t)&&mt(t)==ar}function xt(t){return typeof t=="symbol"||tt(t)&&mt(t)==Tr}var Ze=Ls?jt(Ls):Qh;function Kp(t){return t===i}function Zp(t){return tt(t)&&gt(t)==or}function Yp(t){return tt(t)&&mt(t)==pu}var Xp=hn(li),td=hn(function(t,e){return t<=e});function Io(t){if(!t)return[];if(Pt(t))return wn(t)?Gt(t):bt(t);if(hr&&t[hr])return Sc(t[hr]());var e=gt(t),r=e==zt?Xn:e==Wt?Lr:Ye;return r(t)}function he(t){if(!t)return t===0?t:0;if(t=Bt(t),t===K||t===-K){var e=t<0?-1:1;return e*F}return t===t?t:0}function R(t){var e=he(t),r=e%1;return e===e?r?e-r:e:0}function Ao(t){return t?Se(R(t),0,dt):0}function Bt(t){if(typeof t=="number")return t;if(xt(t))return ee;if(X(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=X(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zs(t);var r=$u.test(t);return r||Nu.test(t)?dc(t.slice(2),r?2:8):Ru.test(t)?ee:+t}function Oo(t){return Zt(t,Et(t))}function ed(t){return t?Se(R(t),-J,J):t===0?t:0}function B(t){return t==null?"":Dt(t)}var rd=Qe(function(t,e){if(br(e)||Pt(e)){Zt(e,ct(e),t);return}for(var r in e)z.call(e,r)&&vr(t,r,e[r])}),jo=Qe(function(t,e){Zt(e,Et(e),t)}),bn=Qe(function(t,e,r,n){Zt(e,Et(e),t,n)}),nd=Qe(function(t,e,r,n){Zt(e,ct(e),t,n)}),id=oe(si);function sd(t,e){var r=Je(t);return e==null?r:sa(r,e)}var ad=N(function(t,e){t=W(t);var r=-1,n=e.length,a=n>2?e[2]:i;for(a&&yt(e[0],e[1],a)&&(n=1);++r<n;)for(var u=e[r],c=Et(u),h=-1,p=c.length;++h<p;){var m=c[h],y=t[m];(y===i||Qt(y,ze[m])&&!z.call(t,m))&&(t[m]=u[m])}return t}),od=N(function(t){return t.push(i,za),Ot(Do,i,t)});function ud(t,e){return Ms(t,j(e,3),Kt)}function cd(t,e){return Ms(t,j(e,3),oi)}function hd(t,e){return t==null?t:ai(t,j(e,3),Et)}function fd(t,e){return t==null?t:ha(t,j(e,3),Et)}function ld(t,e){return t&&Kt(t,j(e,3))}function pd(t,e){return t&&oi(t,j(e,3))}function dd(t){return t==null?[]:en(t,ct(t))}function vd(t){return t==null?[]:en(t,Et(t))}function ki(t,e,r){var n=t==null?i:Te(t,e);return n===i?r:n}function gd(t,e){return t!=null&&Ja(t,e,Lh)}function Mi(t,e){return t!=null&&Ja(t,e,kh)}var _d=ka(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Br.call(e)),t[e]=r},Bi(Ct)),md=ka(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Br.call(e)),z.call(t,e)?t[e].push(r):t[e]=[r]},j),yd=N(_r);function ct(t){return Pt(t)?na(t):fi(t)}function Et(t){return Pt(t)?na(t,!0):Vh(t)}function wd(t,e){var r={};return e=j(e,3),Kt(t,function(n,a,u){se(r,e(n,a,u),n)}),r}function bd(t,e){var r={};return e=j(e,3),Kt(t,function(n,a,u){se(r,a,e(n,a,u))}),r}var Pd=Qe(function(t,e,r){rn(t,e,r)}),Do=Qe(function(t,e,r,n){rn(t,e,r,n)}),Ed=oe(function(t,e){var r={};if(t==null)return r;var n=!1;e=Z(e,function(u){return u=be(u,t),n||(n=u.length>1),u}),Zt(t,Ii(t),r),n&&(r=kt(r,nt|pt|ut,_f));for(var a=e.length;a--;)_i(r,e[a]);return r});function Cd(t,e){return xo(t,mn(j(e)))}var Id=oe(function(t,e){return t==null?{}:Zh(t,e)});function xo(t,e){if(t==null)return{};var r=Z(Ii(t),function(n){return[n]});return e=j(e),wa(t,r,function(n,a){return e(n,a[0])})}function Ad(t,e,r){e=be(e,t);var n=-1,a=e.length;for(a||(a=1,t=i);++n<a;){var u=t==null?i:t[Yt(e[n])];u===i&&(n=a,u=r),t=ce(u)?u.call(t):u}return t}function Od(t,e,r){return t==null?t:yr(t,e,r)}function jd(t,e,r,n){return n=typeof n=="function"?n:i,t==null?t:yr(t,e,r,n)}var So=Ba(ct),To=Ba(Et);function Dd(t,e,r){var n=T(t),a=n||Ee(t)||Ze(t);if(e=j(e,4),r==null){var u=t&&t.constructor;a?r=n?new u:[]:X(t)?r=ce(u)?Je(Wr(t)):{}:r={}}return(a?Nt:Kt)(t,function(c,h,p){return e(r,c,h,p)}),r}function xd(t,e){return t==null?!0:_i(t,e)}function Sd(t,e,r){return t==null?t:Ia(t,e,wi(r))}function Td(t,e,r,n){return n=typeof n=="function"?n:i,t==null?t:Ia(t,e,wi(r),n)}function Ye(t){return t==null?[]:Yn(t,ct(t))}function Rd(t){return t==null?[]:Yn(t,Et(t))}function $d(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=Bt(r),r=r===r?r:0),e!==i&&(e=Bt(e),e=e===e?e:0),Se(Bt(t),e,r)}function qd(t,e,r){return e=he(e),r===i?(r=e,e=0):r=he(r),t=Bt(t),Mh(t,e,r)}function Nd(t,e,r){if(r&&typeof r!="boolean"&&yt(t,e,r)&&(e=r=i),r===i&&(typeof e=="boolean"?(r=e,e=i):typeof t=="boolean"&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=he(t),e===i?(e=t,t=0):e=he(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var a=ea();return vt(t+a*(e-t+pc("1e-"+((a+"").length-1))),e)}return di(t,e)}var Hd=Ve(function(t,e,r){return e=e.toLowerCase(),t+(r?Ro(e):e)});function Ro(t){return Ui(B(t).toLowerCase())}function $o(t){return t=B(t),t&&t.replace(Lu,Ac).replace(nc,"")}function Ld(t,e,r){t=B(t),e=Dt(e);var n=t.length;r=r===i?n:Se(R(r),0,n);var a=r;return r-=e.length,r>=0&&t.slice(r,a)==e}function kd(t){return t=B(t),t&&mu.test(t)?t.replace(hs,Oc):t}function Md(t){return t=B(t),t&&Cu.test(t)?t.replace(Nn,"\\$&"):t}var Ud=Ve(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Bd=Ve(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),Fd=Na("toLowerCase");function zd(t,e,r){t=B(t),e=R(e);var n=e?Be(t):0;if(!e||n>=e)return t;var a=(e-n)/2;return cn(Vr(a),r)+t+cn(Qr(a),r)}function Wd(t,e,r){t=B(t),e=R(e);var n=e?Be(t):0;return e&&n<e?t+cn(e-n,r):t}function Gd(t,e,r){t=B(t),e=R(e);var n=e?Be(t):0;return e&&n<e?cn(e-n,r)+t:t}function Jd(t,e,r){return r||e==null?e=0:e&&(e=+e),Xc(B(t).replace(Hn,""),e||0)}function Qd(t,e,r){return(r?yt(t,e,r):e===i)?e=1:e=R(e),vi(B(t),e)}function Vd(){var t=arguments,e=B(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var Kd=Ve(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});function Zd(t,e,r){return r&&typeof r!="number"&&yt(t,e,r)&&(e=r=i),r=r===i?dt:r>>>0,r?(t=B(t),t&&(typeof e=="string"||e!=null&&!Li(e))&&(e=Dt(e),!e&&Ue(t))?Pe(Gt(t),0,r):t.split(e,r)):[]}var Yd=Ve(function(t,e,r){return t+(r?" ":"")+Ui(e)});function Xd(t,e,r){return t=B(t),r=r==null?0:Se(R(r),0,t.length),e=Dt(e),t.slice(r,r+e.length)==e}function tv(t,e,r){var n=o.templateSettings;r&&yt(t,e,r)&&(e=i),t=B(t),e=bn({},e,n,Fa);var a=bn({},e.imports,n.imports,Fa),u=ct(a),c=Yn(a,u),h,p,m=0,y=e.interpolate||Rr,w="__p += '",C=ti((e.escape||Rr).source+"|"+y.source+"|"+(y===fs?Tu:Rr).source+"|"+(e.evaluate||Rr).source+"|$","g"),O="//# sourceURL="+(z.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uc+"]")+`
`;t.replace(C,function(x,H,k,St,wt,Tt){return k||(k=St),w+=t.slice(m,Tt).replace(ku,jc),H&&(h=!0,w+=`' +
__e(`+H+`) +
'`),wt&&(p=!0,w+=`';
`+wt+`;
__p += '`),k&&(w+=`' +
((__t = (`+k+`)) == null ? '' : __t) +
'`),m=Tt+x.length,x}),w+=`';
`;var D=z.call(e,"variable")&&e.variable;if(!D)w=`with (obj) {
`+w+`
}
`;else if(xu.test(D))throw new S(M);w=(p?w.replace(du,""):w).replace(vu,"$1").replace(gu,"$1;"),w="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(h?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+w+`return __p
}`;var q=No(function(){return U(u,O+"return "+w).apply(i,c)});if(q.source=w,Hi(q))throw q;return q}function ev(t){return B(t).toLowerCase()}function rv(t){return B(t).toUpperCase()}function nv(t,e,r){if(t=B(t),t&&(r||e===i))return zs(t);if(!t||!(e=Dt(e)))return t;var n=Gt(t),a=Gt(e),u=Ws(n,a),c=Gs(n,a)+1;return Pe(n,u,c).join("")}function iv(t,e,r){if(t=B(t),t&&(r||e===i))return t.slice(0,Qs(t)+1);if(!t||!(e=Dt(e)))return t;var n=Gt(t),a=Gs(n,Gt(e))+1;return Pe(n,0,a).join("")}function sv(t,e,r){if(t=B(t),t&&(r||e===i))return t.replace(Hn,"");if(!t||!(e=Dt(e)))return t;var n=Gt(t),a=Ws(n,Gt(e));return Pe(n,a).join("")}function av(t,e){var r=In,n=$t;if(X(e)){var a="separator"in e?e.separator:a;r="length"in e?R(e.length):r,n="omission"in e?Dt(e.omission):n}t=B(t);var u=t.length;if(Ue(t)){var c=Gt(t);u=c.length}if(r>=u)return t;var h=r-Be(n);if(h<1)return n;var p=c?Pe(c,0,h).join(""):t.slice(0,h);if(a===i)return p+n;if(c&&(h+=p.length-h),Li(a)){if(t.slice(h).search(a)){var m,y=p;for(a.global||(a=ti(a.source,B(ls.exec(a))+"g")),a.lastIndex=0;m=a.exec(y);)var w=m.index;p=p.slice(0,w===i?h:w)}}else if(t.indexOf(Dt(a),h)!=h){var C=p.lastIndexOf(a);C>-1&&(p=p.slice(0,C))}return p+n}function ov(t){return t=B(t),t&&_u.test(t)?t.replace(cs,qc):t}var uv=Ve(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Ui=Na("toUpperCase");function qo(t,e,r){return t=B(t),e=r?i:e,e===i?xc(t)?Lc(t):bc(t):t.match(e)||[]}var No=N(function(t,e){try{return Ot(t,i,e)}catch(r){return Hi(r)?r:new S(r)}}),cv=oe(function(t,e){return Nt(e,function(r){r=Yt(r),se(t,r,qi(t[r],t))}),t});function hv(t){var e=t==null?0:t.length,r=j();return t=e?Z(t,function(n){if(typeof n[1]!="function")throw new Ht(A);return[r(n[0]),n[1]]}):[],N(function(n){for(var a=-1;++a<e;){var u=t[a];if(Ot(u[0],this,n))return Ot(u[1],this,n)}})}function fv(t){return qh(kt(t,nt))}function Bi(t){return function(){return t}}function lv(t,e){return t==null||t!==t?e:t}var pv=La(),dv=La(!0);function Ct(t){return t}function Fi(t){return da(typeof t=="function"?t:kt(t,nt))}function vv(t){return ga(kt(t,nt))}function gv(t,e){return _a(t,kt(e,nt))}var _v=N(function(t,e){return function(r){return _r(r,t,e)}}),mv=N(function(t,e){return function(r){return _r(t,r,e)}});function zi(t,e,r){var n=ct(e),a=en(e,n);r==null&&!(X(e)&&(a.length||!n.length))&&(r=e,e=t,t=this,a=en(e,ct(e)));var u=!(X(r)&&"chain"in r)||!!r.chain,c=ce(t);return Nt(a,function(h){var p=e[h];t[h]=p,c&&(t.prototype[h]=function(){var m=this.__chain__;if(u||m){var y=t(this.__wrapped__),w=y.__actions__=bt(this.__actions__);return w.push({func:p,args:arguments,thisArg:t}),y.__chain__=m,y}return p.apply(t,ge([this.value()],arguments))})}),t}function yv(){return ht._===this&&(ht._=zc),this}function Wi(){}function wv(t){return t=R(t),N(function(e){return ma(e,t)})}var bv=Pi(Z),Pv=Pi(ks),Ev=Pi(Jn);function Ho(t){return Di(t)?Qn(Yt(t)):Yh(t)}function Cv(t){return function(e){return t==null?i:Te(t,e)}}var Iv=Ma(),Av=Ma(!0);function Gi(){return[]}function Ji(){return!1}function Ov(){return{}}function jv(){return""}function Dv(){return!0}function xv(t,e){if(t=R(t),t<1||t>J)return[];var r=dt,n=vt(t,dt);e=j(e),t-=dt;for(var a=Zn(n,e);++r<t;)e(r);return a}function Sv(t){return T(t)?Z(t,Yt):xt(t)?[t]:bt(ro(B(t)))}function Tv(t){var e=++Bc;return B(t)+e}var Rv=un(function(t,e){return t+e},0),$v=Ei("ceil"),qv=un(function(t,e){return t/e},1),Nv=Ei("floor");function Hv(t){return t&&t.length?tn(t,Ct,ui):i}function Lv(t,e){return t&&t.length?tn(t,j(e,2),ui):i}function kv(t){return Bs(t,Ct)}function Mv(t,e){return Bs(t,j(e,2))}function Uv(t){return t&&t.length?tn(t,Ct,li):i}function Bv(t,e){return t&&t.length?tn(t,j(e,2),li):i}var Fv=un(function(t,e){return t*e},1),zv=Ei("round"),Wv=un(function(t,e){return t-e},0);function Gv(t){return t&&t.length?Kn(t,Ct):0}function Jv(t,e){return t&&t.length?Kn(t,j(e,2)):0}return o.after=vp,o.ary=po,o.assign=rd,o.assignIn=jo,o.assignInWith=bn,o.assignWith=nd,o.at=id,o.before=vo,o.bind=qi,o.bindAll=cv,o.bindKey=go,o.castArray=Op,o.chain=ho,o.chunk=Nf,o.compact=Hf,o.concat=Lf,o.cond=hv,o.conforms=fv,o.constant=Bi,o.countBy=Gl,o.create=sd,o.curry=_o,o.curryRight=mo,o.debounce=yo,o.defaults=ad,o.defaultsDeep=od,o.defer=gp,o.delay=_p,o.difference=kf,o.differenceBy=Mf,o.differenceWith=Uf,o.drop=Bf,o.dropRight=Ff,o.dropRightWhile=zf,o.dropWhile=Wf,o.fill=Gf,o.filter=Ql,o.flatMap=Zl,o.flatMapDeep=Yl,o.flatMapDepth=Xl,o.flatten=ao,o.flattenDeep=Jf,o.flattenDepth=Qf,o.flip=mp,o.flow=pv,o.flowRight=dv,o.fromPairs=Vf,o.functions=dd,o.functionsIn=vd,o.groupBy=tp,o.initial=Zf,o.intersection=Yf,o.intersectionBy=Xf,o.intersectionWith=tl,o.invert=_d,o.invertBy=md,o.invokeMap=rp,o.iteratee=Fi,o.keyBy=np,o.keys=ct,o.keysIn=Et,o.map=vn,o.mapKeys=wd,o.mapValues=bd,o.matches=vv,o.matchesProperty=gv,o.memoize=_n,o.merge=Pd,o.mergeWith=Do,o.method=_v,o.methodOf=mv,o.mixin=zi,o.negate=mn,o.nthArg=wv,o.omit=Ed,o.omitBy=Cd,o.once=yp,o.orderBy=ip,o.over=bv,o.overArgs=wp,o.overEvery=Pv,o.overSome=Ev,o.partial=Ni,o.partialRight=wo,o.partition=sp,o.pick=Id,o.pickBy=xo,o.property=Ho,o.propertyOf=Cv,o.pull=il,o.pullAll=uo,o.pullAllBy=sl,o.pullAllWith=al,o.pullAt=ol,o.range=Iv,o.rangeRight=Av,o.rearg=bp,o.reject=up,o.remove=ul,o.rest=Pp,o.reverse=Ri,o.sampleSize=hp,o.set=Od,o.setWith=jd,o.shuffle=fp,o.slice=cl,o.sortBy=dp,o.sortedUniq=gl,o.sortedUniqBy=_l,o.split=Zd,o.spread=Ep,o.tail=ml,o.take=yl,o.takeRight=wl,o.takeRightWhile=bl,o.takeWhile=Pl,o.tap=Hl,o.throttle=Cp,o.thru=dn,o.toArray=Io,o.toPairs=So,o.toPairsIn=To,o.toPath=Sv,o.toPlainObject=Oo,o.transform=Dd,o.unary=Ip,o.union=El,o.unionBy=Cl,o.unionWith=Il,o.uniq=Al,o.uniqBy=Ol,o.uniqWith=jl,o.unset=xd,o.unzip=$i,o.unzipWith=co,o.update=Sd,o.updateWith=Td,o.values=Ye,o.valuesIn=Rd,o.without=Dl,o.words=qo,o.wrap=Ap,o.xor=xl,o.xorBy=Sl,o.xorWith=Tl,o.zip=Rl,o.zipObject=$l,o.zipObjectDeep=ql,o.zipWith=Nl,o.entries=So,o.entriesIn=To,o.extend=jo,o.extendWith=bn,zi(o,o),o.add=Rv,o.attempt=No,o.camelCase=Hd,o.capitalize=Ro,o.ceil=$v,o.clamp=$d,o.clone=jp,o.cloneDeep=xp,o.cloneDeepWith=Sp,o.cloneWith=Dp,o.conformsTo=Tp,o.deburr=$o,o.defaultTo=lv,o.divide=qv,o.endsWith=Ld,o.eq=Qt,o.escape=kd,o.escapeRegExp=Md,o.every=Jl,o.find=Vl,o.findIndex=io,o.findKey=ud,o.findLast=Kl,o.findLastIndex=so,o.findLastKey=cd,o.floor=Nv,o.forEach=fo,o.forEachRight=lo,o.forIn=hd,o.forInRight=fd,o.forOwn=ld,o.forOwnRight=pd,o.get=ki,o.gt=Rp,o.gte=$p,o.has=gd,o.hasIn=Mi,o.head=oo,o.identity=Ct,o.includes=ep,o.indexOf=Kf,o.inRange=qd,o.invoke=yd,o.isArguments=qe,o.isArray=T,o.isArrayBuffer=qp,o.isArrayLike=Pt,o.isArrayLikeObject=et,o.isBoolean=Np,o.isBuffer=Ee,o.isDate=Hp,o.isElement=Lp,o.isEmpty=kp,o.isEqual=Mp,o.isEqualWith=Up,o.isError=Hi,o.isFinite=Bp,o.isFunction=ce,o.isInteger=bo,o.isLength=yn,o.isMap=Po,o.isMatch=Fp,o.isMatchWith=zp,o.isNaN=Wp,o.isNative=Gp,o.isNil=Qp,o.isNull=Jp,o.isNumber=Eo,o.isObject=X,o.isObjectLike=tt,o.isPlainObject=Er,o.isRegExp=Li,o.isSafeInteger=Vp,o.isSet=Co,o.isString=wn,o.isSymbol=xt,o.isTypedArray=Ze,o.isUndefined=Kp,o.isWeakMap=Zp,o.isWeakSet=Yp,o.join=el,o.kebabCase=Ud,o.last=Ut,o.lastIndexOf=rl,o.lowerCase=Bd,o.lowerFirst=Fd,o.lt=Xp,o.lte=td,o.max=Hv,o.maxBy=Lv,o.mean=kv,o.meanBy=Mv,o.min=Uv,o.minBy=Bv,o.stubArray=Gi,o.stubFalse=Ji,o.stubObject=Ov,o.stubString=jv,o.stubTrue=Dv,o.multiply=Fv,o.nth=nl,o.noConflict=yv,o.noop=Wi,o.now=gn,o.pad=zd,o.padEnd=Wd,o.padStart=Gd,o.parseInt=Jd,o.random=Nd,o.reduce=ap,o.reduceRight=op,o.repeat=Qd,o.replace=Vd,o.result=Ad,o.round=zv,o.runInContext=l,o.sample=cp,o.size=lp,o.snakeCase=Kd,o.some=pp,o.sortedIndex=hl,o.sortedIndexBy=fl,o.sortedIndexOf=ll,o.sortedLastIndex=pl,o.sortedLastIndexBy=dl,o.sortedLastIndexOf=vl,o.startCase=Yd,o.startsWith=Xd,o.subtract=Wv,o.sum=Gv,o.sumBy=Jv,o.template=tv,o.times=xv,o.toFinite=he,o.toInteger=R,o.toLength=Ao,o.toLower=ev,o.toNumber=Bt,o.toSafeInteger=ed,o.toString=B,o.toUpper=rv,o.trim=nv,o.trimEnd=iv,o.trimStart=sv,o.truncate=av,o.unescape=ov,o.uniqueId=Tv,o.upperCase=uv,o.upperFirst=Ui,o.each=fo,o.eachRight=lo,o.first=oo,zi(o,function(){var t={};return Kt(o,function(e,r){z.call(o.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),o.VERSION=f,Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){o[t].placeholder=o}),Nt(["drop","take"],function(t,e){L.prototype[t]=function(r){r=r===i?1:at(R(r),0);var n=this.__filtered__&&!e?new L(this):this.clone();return n.__filtered__?n.__takeCount__=vt(r,n.__takeCount__):n.__views__.push({size:vt(r,dt),type:t+(n.__dir__<0?"Right":"")}),n},L.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),Nt(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==v||r==$;L.prototype[t]=function(a){var u=this.clone();return u.__iteratees__.push({iteratee:j(a,3),type:r}),u.__filtered__=u.__filtered__||n,u}}),Nt(["head","last"],function(t,e){var r="take"+(e?"Right":"");L.prototype[t]=function(){return this[r](1).value()[0]}}),Nt(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");L.prototype[t]=function(){return this.__filtered__?new L(this):this[r](1)}}),L.prototype.compact=function(){return this.filter(Ct)},L.prototype.find=function(t){return this.filter(t).head()},L.prototype.findLast=function(t){return this.reverse().find(t)},L.prototype.invokeMap=N(function(t,e){return typeof t=="function"?new L(this):this.map(function(r){return _r(r,t,e)})}),L.prototype.reject=function(t){return this.filter(mn(j(t)))},L.prototype.slice=function(t,e){t=R(t);var r=this;return r.__filtered__&&(t>0||e<0)?new L(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(e=R(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)},L.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},L.prototype.toArray=function(){return this.take(dt)},Kt(L.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),a=o[n?"take"+(e=="last"?"Right":""):e],u=n||/^find/.test(e);a&&(o.prototype[e]=function(){var c=this.__wrapped__,h=n?[1]:arguments,p=c instanceof L,m=h[0],y=p||T(c),w=function(H){var k=a.apply(o,ge([H],h));return n&&C?k[0]:k};y&&r&&typeof m=="function"&&m.length!=1&&(p=y=!1);var C=this.__chain__,O=!!this.__actions__.length,D=u&&!C,q=p&&!O;if(!u&&y){c=q?c:new L(this);var x=t.apply(c,h);return x.__actions__.push({func:dn,args:[w],thisArg:i}),new Lt(x,C)}return D&&q?t.apply(this,h):(x=this.thru(w),D?n?x.value()[0]:x.value():x)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(t){var e=kr[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);o.prototype[t]=function(){var a=arguments;if(n&&!this.__chain__){var u=this.value();return e.apply(T(u)?u:[],a)}return this[r](function(c){return e.apply(T(c)?c:[],a)})}}),Kt(L.prototype,function(t,e){var r=o[e];if(r){var n=r.name+"";z.call(Ge,n)||(Ge[n]=[]),Ge[n].push({name:e,func:r})}}),Ge[on(i,Xt).name]=[{name:"wrapper",func:i}],L.prototype.clone=ah,L.prototype.reverse=oh,L.prototype.value=uh,o.prototype.at=Ll,o.prototype.chain=kl,o.prototype.commit=Ml,o.prototype.next=Ul,o.prototype.plant=Fl,o.prototype.reverse=zl,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=Wl,o.prototype.first=o.prototype.head,hr&&(o.prototype[hr]=Bl),o},Fe=kc();Oe?((Oe.exports=Fe)._=Fe,Fn._=Fe):ht._=Fe}).call(Cr)})(es,es.exports);var lg=Object.defineProperty,pg=Object.defineProperties,dg=Object.getOwnPropertyDescriptors,Qo=Object.getOwnPropertySymbols,vg=Object.prototype.hasOwnProperty,gg=Object.prototype.propertyIsEnumerable,Vo=(b,s,i)=>s in b?lg(b,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):b[s]=i,Pn=(b,s)=>{for(var i in s||(s={}))vg.call(s,i)&&Vo(b,i,s[i]);if(Qo)for(var i of Qo(s))gg.call(s,i)&&Vo(b,i,s[i]);return b},_g=(b,s)=>pg(b,dg(s));function Ce(b,s,i){var f;const g=ng(b);return((f=s.rpcMap)==null?void 0:f[g.reference])||`${fg}?chainId=${g.namespace}:${g.reference}&projectId=${i}`}function Ne(b){return b.includes(":")?b.split(":")[1]:b}function iu(b){return b.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)}function mg(b,s){const i=Object.keys(s.namespaces).filter(g=>g.includes(b));if(!i.length)return[];const f=[];return i.forEach(g=>{const P=s.namespaces[g].accounts;f.push(...P)}),f}function Ko(b={},s={}){const i=Zo(b),f=Zo(s);return es.exports.merge(i,f)}function Zo(b){var s,i,f,g;const P={};if(!rg(b))return P;for(const[A,M]of Object.entries(b)){const ot=nu(A)?[A]:M.chains,it=M.methods||[],lt=M.events||[],nt=M.rpcMap||{},pt=Ir(A);P[pt]=_g(Pn(Pn({},P[pt]),M),{chains:Qi(ot,(s=P[pt])==null?void 0:s.chains),methods:Qi(it,(i=P[pt])==null?void 0:i.methods),events:Qi(lt,(f=P[pt])==null?void 0:f.events),rpcMap:Pn(Pn({},nt),(g=P[pt])==null?void 0:g.rpcMap)})}return P}function yg(b){return b.includes(":")?b.split(":")[2]:b}function wg(b){const s={};for(const[i,f]of Object.entries(b)){const g=f.methods||[],P=f.events||[],A=f.accounts||[],M=nu(i)?[i]:f.chains?f.chains:iu(f.accounts);s[i]={chains:M,methods:g,events:P,accounts:A}}return s}function Vi(b){return typeof b=="number"?b:b.includes("0x")?parseInt(b,16):(b=b.includes(":")?b.split(":")[1]:b,isNaN(Number(b))?b:Number(b))}const su={},Y=b=>su[b],Ki=(b,s)=>{su[b]=s};class bg{constructor(s){this.name="polkadot",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getAccounts(){const s=this.namespace.accounts;return s?s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const g=Ne(i);s[g]=this.createHttpProvider(g,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Pg{constructor(s){this.name="eip155",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(s){switch(s.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(s);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(s.request.method)?await this.client.request(s):this.getHttpProvider().request(s.request)}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(parseInt(s),i),this.chainId=parseInt(s),this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}createHttpProvider(s,i){const f=i||Ce(`${this.name}:${s}`,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const g=parseInt(Ne(i));s[g]=this.createHttpProvider(g,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const s=this.chainId,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}async handleSwitchChain(s){var i,f;let g=s.request.params?(i=s.request.params[0])==null?void 0:i.chainId:"0x0";g=g.startsWith("0x")?g:`0x${g}`;const P=parseInt(g,16);if(this.isChainApproved(P))this.setDefaultChain(`${P}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:s.topic,request:{method:s.request.method,params:[{chainId:g}]},chainId:(f=this.namespace.chains)==null?void 0:f[0]}),this.setDefaultChain(`${P}`);else throw new Error(`Failed to switch to chain 'eip155:${P}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(s){return this.namespace.chains.includes(`${this.name}:${s}`)}}class Eg{constructor(s){this.name="solana",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const g=Ne(i);s[g]=this.createHttpProvider(g,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Cg{constructor(s){this.name="cosmos",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const g=Ne(i);s[g]=this.createHttpProvider(g,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Ig{constructor(s){this.name="cip34",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{const f=this.getCardanoRPCUrl(i),g=Ne(i);s[g]=this.createHttpProvider(g,f)}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}getCardanoRPCUrl(s){const i=this.namespace.rpcMap;if(i)return i[s]}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||this.getCardanoRPCUrl(s);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Ag{constructor(s){this.name="elrond",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const g=Ne(i);s[g]=this.createHttpProvider(g,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Og{constructor(s){this.name="multiversx",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const g=Ne(i);s[g]=this.createHttpProvider(g,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class jg{constructor(s){this.name="near",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){if(this.chainId=s,!this.httpProviders[s]){const f=i||Ce(`${this.name}:${s}`,this.namespace);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);this.setHttpProvider(s,f)}this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;s[i]=this.createHttpProvider(i,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace);return typeof f>"u"?void 0:new Ie(new Ae(f,Y("disableProviderPing")))}}var Dg=Object.defineProperty,xg=Object.defineProperties,Sg=Object.getOwnPropertyDescriptors,Yo=Object.getOwnPropertySymbols,Tg=Object.prototype.hasOwnProperty,Rg=Object.prototype.propertyIsEnumerable,Xo=(b,s,i)=>s in b?Dg(b,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):b[s]=i,En=(b,s)=>{for(var i in s||(s={}))Tg.call(s,i)&&Xo(b,i,s[i]);if(Yo)for(var i of Yo(s))Rg.call(s,i)&&Xo(b,i,s[i]);return b},Zi=(b,s)=>xg(b,Sg(s));class ss{constructor(s){this.events=new is.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=s,this.logger=typeof(s==null?void 0:s.logger)<"u"&&typeof(s==null?void 0:s.logger)!="string"?s.logger:Bo.pino(Bo.getDefaultLoggerOptions({level:(s==null?void 0:s.logger)||Go})),this.disableProviderPing=(s==null?void 0:s.disableProviderPing)||!1}static async init(s){const i=new ss(s);return await i.initialize(),i}async request(s,i,f){const[g,P]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(g).request({request:En({},s),chainId:`${g}:${P}`,topic:this.session.topic,expiry:f})}sendAsync(s,i,f,g){const P=new Date().getTime();this.request(s,f,g).then(A=>i(null,Xv(P,A))).catch(A=>i(A,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var s;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(s=this.session)==null?void 0:s.topic,reason:Xi("USER_DISCONNECTED")}),await this.cleanup()}async connect(s){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(s),await this.cleanupPendingPairings(),!s.skipPairing)return await this.pair(s.pairingTopic)}on(s,i){this.events.on(s,i)}once(s,i){this.events.once(s,i)}removeListener(s,i){this.events.removeListener(s,i)}off(s,i){this.events.off(s,i)}get isWalletConnect(){return!0}async pair(s){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:f,approval:g}=await this.client.connect({pairingTopic:s,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});f&&(this.uri=f,this.events.emit("display_uri",f)),await g().then(P=>{this.session=P;const A=wg(P.namespaces);this.namespaces=Ko(this.namespaces,A),this.persist("namespaces",this.namespaces)}).catch(P=>{if(P.message!==tg)throw P;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(s,i){try{if(!this.session)return;const[f,g]=this.validateChain(s);this.getProvider(f).setDefaultChain(g,i)}catch(f){if(!/Please call connect/.test(f.message))throw f}}async cleanupPendingPairings(s={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Or(i)){for(const f of i)s.deletePairings?this.client.core.expirer.set(f.topic,0):await this.client.core.relayer.subscriber.unsubscribe(f.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const s=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[s]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await eg.init({logger:this.providerOpts.logger||Go,relayUrl:this.providerOpts.relayUrl||ug,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const s=[...new Set(Object.keys(this.session.namespaces).map(i=>Ir(i)))];Ki("client",this.client),Ki("events",this.events),Ki("disableProviderPing",this.disableProviderPing),s.forEach(i=>{if(!this.session)return;const f=mg(i,this.session),g=iu(f),P=Ko(this.namespaces,this.optionalNamespaces),A=Zi(En({},P[i]),{accounts:f,chains:g});switch(i){case"eip155":this.rpcProviders[i]=new Pg({namespace:A});break;case"solana":this.rpcProviders[i]=new Eg({namespace:A});break;case"cosmos":this.rpcProviders[i]=new Cg({namespace:A});break;case"polkadot":this.rpcProviders[i]=new bg({namespace:A});break;case"cip34":this.rpcProviders[i]=new Ig({namespace:A});break;case"elrond":this.rpcProviders[i]=new Ag({namespace:A});break;case"multiversx":this.rpcProviders[i]=new Og({namespace:A});break;case"near":this.rpcProviders[i]=new jg({namespace:A});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",s=>{this.events.emit("session_ping",s)}),this.client.on("session_event",s=>{const{params:i}=s,{event:f}=i;if(f.name==="accountsChanged"){const g=f.data;g&&Or(g)&&this.events.emit("accountsChanged",g.map(yg))}else if(f.name==="chainChanged"){const g=i.chainId,P=i.event.data,A=Ir(g),M=Vi(g)!==Vi(P)?`${A}:${Vi(P)}`:g;this.onChainChanged(M)}else this.events.emit(f.name,f.data);this.events.emit("session_event",s)}),this.client.on("session_update",({topic:s,params:i})=>{var f;const{namespaces:g}=i,P=(f=this.client)==null?void 0:f.session.get(s);this.session=Zi(En({},P),{namespaces:g}),this.onSessionUpdate(),this.events.emit("session_update",{topic:s,params:i})}),this.client.on("session_delete",async s=>{await this.cleanup(),this.events.emit("session_delete",s),this.events.emit("disconnect",Zi(En({},Xi("USER_DISCONNECTED")),{data:s.topic}))}),this.on(le.DEFAULT_CHAIN_CHANGED,s=>{this.onChainChanged(s,!0)})}getProvider(s){if(!this.rpcProviders[s])throw new Error(`Provider not found: ${s}`);return this.rpcProviders[s]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(s=>{var i;this.getProvider(s).updateNamespace((i=this.session)==null?void 0:i.namespaces[s])})}setNamespaces(s){const{namespaces:i,optionalNamespaces:f,sessionProperties:g}=s;i&&Object.keys(i).length&&(this.namespaces=i),f&&Object.keys(f).length&&(this.optionalNamespaces=f),this.sessionProperties=g,this.persist("namespaces",i),this.persist("optionalNamespaces",f)}validateChain(s){const[i,f]=(s==null?void 0:s.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,f];if(i&&!Object.keys(this.namespaces||{}).map(A=>Ir(A)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&f)return[i,f];const g=Ir(Object.keys(this.namespaces)[0]),P=this.rpcProviders[g].getDefaultChain();return[g,P]}async requestAccounts(){const[s]=this.validateChain();return await this.getProvider(s).requestAccounts()}onChainChanged(s,i=!1){if(!this.namespaces)return;const[f,g]=this.validateChain(s);g&&(i||this.getProvider(f).setDefaultChain(g),this.namespaces[f]?this.namespaces[f].defaultChain=g:this.namespaces[`${f}:${g}`]?this.namespaces[`${f}:${g}`].defaultChain=g:this.namespaces[`${f}:${g}`]={defaultChain:g},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",g))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(s,i){this.client.core.storage.setItem(`${Jo}/${s}`,i)}async getFromStore(s){return await this.client.core.storage.getItem(`${Jo}/${s}`)}}const $g=ss,qg="wc",Ng="ethereum_provider",Hg=`${qg}@2:${Ng}:`,Lg="https://rpc.walletconnect.com/v1/",rs=["eth_sendTransaction","personal_sign"],kg=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],ns=["chainChanged","accountsChanged"],Mg=["chainChanged","accountsChanged","message","disconnect","connect"];var Ug=Object.defineProperty,Bg=Object.defineProperties,Fg=Object.getOwnPropertyDescriptors,tu=Object.getOwnPropertySymbols,zg=Object.prototype.hasOwnProperty,Wg=Object.prototype.propertyIsEnumerable,eu=(b,s,i)=>s in b?Ug(b,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):b[s]=i,Ar=(b,s)=>{for(var i in s||(s={}))zg.call(s,i)&&eu(b,i,s[i]);if(tu)for(var i of tu(s))Wg.call(s,i)&&eu(b,i,s[i]);return b},ru=(b,s)=>Bg(b,Fg(s));function Cn(b){return Number(b[0].split(":")[1])}function Yi(b){return`0x${b.toString(16)}`}function Gg(b){const{chains:s,optionalChains:i,methods:f,optionalMethods:g,events:P,optionalEvents:A,rpcMap:M}=b;if(!Or(s))throw new Error("Invalid chains");const ot={chains:s,methods:f||rs,events:P||ns,rpcMap:Ar({},s.length?{[Cn(s)]:M[Cn(s)]}:{})},it=P==null?void 0:P.filter(ut=>!ns.includes(ut)),lt=f==null?void 0:f.filter(ut=>!rs.includes(ut));if(!i&&!A&&!g&&!(it!=null&&it.length)&&!(lt!=null&&lt.length))return{required:s.length?ot:void 0};const nt=(it==null?void 0:it.length)&&(lt==null?void 0:lt.length)||!i,pt={chains:[...new Set(nt?ot.chains.concat(i||[]):i)],methods:[...new Set(ot.methods.concat(g!=null&&g.length?g:kg))],events:[...new Set(ot.events.concat(A!=null&&A.length?A:Mg))],rpcMap:M};return{required:s.length?ot:void 0,optional:i.length?pt:void 0}}class as{constructor(){this.events=new is.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Hg,this.on=(s,i)=>(this.events.on(s,i),this),this.once=(s,i)=>(this.events.once(s,i),this),this.removeListener=(s,i)=>(this.events.removeListener(s,i),this),this.off=(s,i)=>(this.events.off(s,i),this),this.parseAccount=s=>this.isCompatibleChainId(s)?this.parseAccountId(s).address:s,this.signer={},this.rpc={}}static async init(s){const i=new as;return await i.initialize(s),i}async request(s,i){return await this.signer.request(s,this.formatChainId(this.chainId),i)}sendAsync(s,i,f){this.signer.sendAsync(s,i,this.formatChainId(this.chainId),f)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(s){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(s);const{required:i,optional:f}=Gg(this.rpc);try{const g=await new Promise(async(A,M)=>{var ot;this.rpc.showQrModal&&((ot=this.modal)==null||ot.subscribeModal(it=>{!it.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),M(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(ru(Ar({namespaces:Ar({},i&&{[this.namespace]:i})},f&&{optionalNamespaces:{[this.namespace]:f}}),{pairingTopic:s==null?void 0:s.pairingTopic})).then(it=>{A(it)}).catch(it=>{M(new Error(it.message))})});if(!g)return;const P=ig(g.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:P),this.setAccounts(P),this.events.emit("connect",{chainId:Yi(this.chainId)})}catch(g){throw this.signer.logger.error(g),g}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",s=>{const{params:i}=s,{event:f}=i;f.name==="accountsChanged"?(this.accounts=this.parseAccounts(f.data),this.events.emit("accountsChanged",this.accounts)):f.name==="chainChanged"?this.setChainId(this.formatChainId(f.data)):this.events.emit(f.name,f.data),this.events.emit("session_event",s)}),this.signer.on("chainChanged",s=>{const i=parseInt(s);this.chainId=i,this.events.emit("chainChanged",Yi(this.chainId)),this.persist()}),this.signer.on("session_update",s=>{this.events.emit("session_update",s)}),this.signer.on("session_delete",s=>{this.reset(),this.events.emit("session_delete",s),this.events.emit("disconnect",ru(Ar({},Xi("USER_DISCONNECTED")),{data:s.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",s=>{var i,f;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(f=this.modal)==null||f.openModal({uri:s})),this.events.emit("display_uri",s)})}switchEthereumChain(s){this.request({method:"wallet_switchEthereumChain",params:[{chainId:s.toString(16)}]})}isCompatibleChainId(s){return typeof s=="string"?s.startsWith(`${this.namespace}:`):!1}formatChainId(s){return`${this.namespace}:${s}`}parseChainId(s){return Number(s.split(":")[1])}setChainIds(s){const i=s.filter(f=>this.isCompatibleChainId(f)).map(f=>this.parseChainId(f));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",Yi(this.chainId)),this.persist())}setChainId(s){if(this.isCompatibleChainId(s)){const i=this.parseChainId(s);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(s){const[i,f,g]=s.split(":");return{chainId:`${i}:${f}`,address:g}}setAccounts(s){this.accounts=s.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(s){var i,f;const g=(i=s==null?void 0:s.chains)!=null?i:[],P=(f=s==null?void 0:s.optionalChains)!=null?f:[],A=g.concat(P);if(!A.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const M=g.length?(s==null?void 0:s.methods)||rs:[],ot=g.length?(s==null?void 0:s.events)||ns:[],it=(s==null?void 0:s.optionalMethods)||[],lt=(s==null?void 0:s.optionalEvents)||[],nt=(s==null?void 0:s.rpcMap)||this.buildRpcMap(A,s.projectId),pt=(s==null?void 0:s.qrModalOptions)||void 0;return{chains:g==null?void 0:g.map(ut=>this.formatChainId(ut)),optionalChains:P.map(ut=>this.formatChainId(ut)),methods:M,events:ot,optionalMethods:it,optionalEvents:lt,rpcMap:nt,showQrModal:!!(s!=null&&s.showQrModal),qrModalOptions:pt,projectId:s.projectId,metadata:s.metadata}}buildRpcMap(s,i){const f={};return s.forEach(g=>{f[g]=this.getRpcUrl(g,i)}),f}async initialize(s){if(this.rpc=this.getRpcConfig(s),this.chainId=this.rpc.chains.length?Cn(this.rpc.chains):Cn(this.rpc.optionalChains),this.signer=await $g.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:s.disableProviderPing,relayUrl:s.relayUrl,storageOptions:s.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:f}=await sg(()=>import("./index.2b11de41.js").then(g=>g.i),["assets/index.2b11de41.js","assets/index.7594c645.js","assets/index.ac094a7b.css"]);i=f}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(Ar({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(f){throw this.signer.logger.error(f),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(s){if(!s)return;const{chains:i,optionalChains:f,rpcMap:g}=s;i&&Or(i)&&(this.rpc.chains=i.map(P=>this.formatChainId(P)),i.forEach(P=>{this.rpc.rpcMap[P]=(g==null?void 0:g[P])||this.getRpcUrl(P)})),f&&Or(f)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=f==null?void 0:f.map(P=>this.formatChainId(P)),f.forEach(P=>{this.rpc.rpcMap[P]=(g==null?void 0:g[P])||this.getRpcUrl(P)}))}getRpcUrl(s,i){var f;return((f=this.rpc.rpcMap)==null?void 0:f[s])||`${Lg}?chainId=eip155:${s}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const s=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${s}`]?this.session.namespaces[`${this.namespace}:${s}`]:this.session.namespaces[this.namespace];this.setChainIds(s?[this.formatChainId(s)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(s){return typeof s=="string"||s instanceof String?[this.parseAccount(s)]:s.map(i=>this.parseAccount(i))}}const Qg=as;export{Qg as EthereumProvider,Mg as OPTIONAL_EVENTS,kg as OPTIONAL_METHODS,ns as REQUIRED_EVENTS,rs as REQUIRED_METHODS,as as default};
